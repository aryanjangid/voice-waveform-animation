!function(){function t(e,r,n){function i(a,s){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[a]={exports:{}};e[a][0].call(f.exports,function(t){return i(e[a][1][t]||t)},f,f.exports,t,e,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}return t}()({1:[function(t,e,r){function n(t,e,r){e="number"==typeof e?e:1,r=r||": ";var n=t.split(/\r?\n/),o=String(n.length+e-1).length;return n.map(function(t,n){var a=n+e,s=String(a).length;return i(a,o-s)+r+t}).join("\n")}var i=t(2);e.exports=n},{2:2}],2:[function(t,e,r){"use strict";var n=t(120);e.exports=function(t,e,r){return r=void 0!==r?r+"":" ",n(r,e)+t}},{120:120}],3:[function(t,e,r){function n(t,e){if(e=e||"float32",!t[0]||!t[0].length)return t;for(var r="string"==typeof e?i(e):e,n=t[0].length,o=new r(t.length*n),a=0,s=0;s<t.length;s++)for(var u=0;u<n;u++)o[a++]=t[s][u];return o}var i=t(25);e.exports=n},{25:25}],4:[function(t,e,r){e.exports=function(t,e){var r="number"==typeof t,n="number"==typeof e;r&&!n?(e=t,t=0):r||n||(t=0,e=0),t|=0,e|=0;var i=e-t;if(i<0)throw new Error("array length must be positive");for(var o=new Array(i),a=0,s=t;a<i;a++,s++)o[a]=s;return o}},{}],5:[function(t,e,r){e.exports=function(t){return atob(t)}},{}],6:[function(t,e,r){!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===o||e===f?62:e===a||e===l?63:e<s?-1:e<s+10?e-s+26+26:e<c+26?e-c:e<u+26?e-u+26:void 0}function r(t){function r(t){c[l++]=t}var n,o,a,s,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=t.length;u="="===t.charAt(f-2)?2:"="===t.charAt(f-1)?1:0,c=new i(3*t.length/4-u),a=u>0?t.length-4:t.length;var l=0;for(n=0,o=0;n<a;n+=4,o+=3)s=e(t.charAt(n))<<18|e(t.charAt(n+1))<<12|e(t.charAt(n+2))<<6|e(t.charAt(n+3)),r((16711680&s)>>16),r((65280&s)>>8),r(255&s);return 2===u?(s=e(t.charAt(n))<<2|e(t.charAt(n+1))>>4,r(255&s)):1===u&&(s=e(t.charAt(n))<<10|e(t.charAt(n+1))<<4|e(t.charAt(n+2))>>2,r(s>>8&255),r(255&s)),c}function n(t){function e(t){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)}var r,n,i,o=t.length%3,a="";for(r=0,i=t.length-o;r<i;r+=3)n=(t[r]<<16)+(t[r+1]<<8)+t[r+2],a+=function(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}(n);switch(o){case 1:n=t[t.length-1],a+=e(n>>2),a+=e(n<<4&63),a+="==";break;case 2:n=(t[t.length-2]<<8)+t[t.length-1],a+=e(n>>10),a+=e(n>>4&63),a+=e(n<<2&63),a+="="}return a}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="+".charCodeAt(0),a="/".charCodeAt(0),s="0".charCodeAt(0),u="a".charCodeAt(0),c="A".charCodeAt(0),f="-".charCodeAt(0),l="_".charCodeAt(0);t.toByteArray=r,t.fromByteArray=n}(void 0===r?this.base64js={}:r)},{}],7:[function(t,e,r){"use strict";"use restrict";function n(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}r.INT_BITS=32,r.INT_MAX=2147483647,r.INT_MIN=-1<<31,r.sign=function(t){return(t>0)-(t<0)},r.abs=function(t){var e=t>>31;return(t^e)-e},r.min=function(t,e){return e^(t^e)&-(t<e)},r.max=function(t,e){return t^(t^e)&-(t<e)},r.isPow2=function(t){return!(t&t-1||!t)},r.log2=function(t){var e,r;return e=(t>65535)<<4,t>>>=e,r=(t>255)<<3,t>>>=r,e|=r,r=(t>15)<<2,t>>>=r,e|=r,r=(t>3)<<1,t>>>=r,(e|=r)|t>>1},r.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},r.popCount=function(t){return t-=t>>>1&1431655765,16843009*((t=(858993459&t)+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},r.countTrailingZeros=n,r.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},r.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},r.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(i),r.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},r.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},r.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),(t=65535&(t|t>>>16))<<16>>16},r.interleave3=function(t,e,r){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),t|r<<2},r.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),(t=1023&(t|t>>>16))<<22>>22},r.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},{}],8:[function(t,e,r){(function(e,n){(function(){"use strict";function n(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t){return this instanceof i?(i.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?o(this,t):"string"==typeof t?a(this,t,arguments.length>1?arguments[1]:"utf8"):s(this,t)):arguments.length>1?new i(t,arguments[1]):new i(t)}function o(t,e){if(t=d(t,e<0?0:0|g(e)),!i.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;r++)t[r]=0;return t}function a(t,e,r){return"string"==typeof r&&""!==r||(r="utf8"),t=d(t,0|_(e,r)),t.write(e,r),t}function s(t,e){if(i.isBuffer(e))return u(t,e);if(Z(e))return c(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return f(t,e);if(e instanceof ArrayBuffer)return l(t,e)}return e.length?h(t,e):p(t,e)}function u(t,e){var r=0|g(e.length);return t=d(t,r),e.copy(t,0,0,r),t}function c(t,e){var r=0|g(e.length);t=d(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function f(t,e){var r=0|g(e.length);t=d(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function l(t,e){return i.TYPED_ARRAY_SUPPORT?(e.byteLength,t=i._augment(new Uint8Array(e))):t=f(t,new Uint8Array(e)),t}function h(t,e){var r=0|g(e.length);t=d(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t,e){var r,n=0;"Buffer"===e.type&&Z(e.data)&&(r=e.data,n=0|g(r.length)),t=d(t,n);for(var i=0;i<n;i+=1)t[i]=255&r[i];return t}function d(t,e){return i.TYPED_ARRAY_SUPPORT?(t=i._augment(new Uint8Array(e)),t.__proto__=i.prototype):(t.length=e,t._isBuffer=!0),0!==e&&e<=i.poolSize>>>1&&(t.parent=K),t}function g(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function v(t,e){if(!(this instanceof v))return new v(t,e);var r=new i(t,e);return delete r.parent,r}function _(t,e){"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return X(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(t).length;default:if(n)return X(t).length;e=(""+e).toLowerCase(),n=!0}}function y(t,e,r){var n=!1;if(e|=0,r=void 0===r||r===1/0?this.length:0|r,t||(t="utf8"),e<0&&(e=0),r>this.length&&(r=this.length),r<=e)return"";for(;;)switch(t){case"hex":return U(this,e,r);case"utf8":case"utf-8":return R(this,e,r);case"ascii":return S(this,e,r);case"binary":return N(this,e,r);case"base64":return x(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new Error("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[r+a]=s}return a}function E(t,e,r,n){return Y(X(e,t.length-r),t,r,n)}function b(t,e,r,n){return Y(z(e),t,r,n)}function A(t,e,r,n){return b(t,e,r,n)}function w(t,e,r,n){return Y(H(e),t,r,n)}function T(t,e,r,n){return Y(G(e,t.length-r),t,r,n)}function x(t,e,r){return 0===e&&r===t.length?q.fromByteArray(t):q.fromByteArray(t.slice(e,r))}function R(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){var u,c,f,l;switch(s){case 1:o<128&&(a=o);break;case 2:u=t[i+1],128==(192&u)&&(l=(31&o)<<6|63&u)>127&&(a=l);break;case 3:u=t[i+1],c=t[i+2],128==(192&u)&&128==(192&c)&&(l=(15&o)<<12|(63&u)<<6|63&c)>2047&&(l<55296||l>57343)&&(a=l);break;case 4:u=t[i+1],c=t[i+2],f=t[i+3],128==(192&u)&&128==(192&c)&&128==(192&f)&&(l=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&f)>65535&&l<1114112&&(a=l)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return I(n)}function I(t){var e=t.length;if(e<=J)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=J));return r}function S(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;i++)n+=String.fromCharCode(127&t[i]);return n}function N(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;i++)n+=String.fromCharCode(t[i]);return n}function U(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;o++)i+=k(t[o]);return i}function L(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function P(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,r,n,o,a){if(!i.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>o||e<a)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range")}function M(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;i++)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function O(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;i++)t[r+i]=e>>>8*(n?i:3-i)&255}function D(t,e,r,n,i,o){if(e>i||e<o)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range");if(r<0)throw new RangeError("index out of range")}function B(t,e,r,n,i){return i||D(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),W.write(t,e,r,n,23,4),r+4}function F(t,e,r,n,i){return i||D(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),W.write(t,e,r,n,52,8),r+8}function j(t){if(t=V(t).replace($,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function V(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function k(t){return t<16?"0"+t.toString(16):t.toString(16)}function X(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],a=0;a<n;a++){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function z(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e}function G(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);a++)r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function H(t){return q.toByteArray(j(t))}function Y(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);i++)e[i+r]=t[i];return i}var q=t(6),W=t(90),Z=t(9);r.Buffer=i,r.SlowBuffer=v,r.INSPECT_MAX_BYTES=50,i.poolSize=8192;var K={};i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),i.TYPED_ARRAY_SUPPORT?(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array):(i.prototype.length=void 0,i.prototype.parent=void 0),i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.compare=function(t,e){if(!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,o=0,a=Math.min(r,n);o<a&&t[o]===e[o];)++o;return o!==a&&(r=t[o],n=e[o]),r<n?-1:n<r?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!Z(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new i(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;r++)e+=t[r].length;var n=new i(e),o=0;for(r=0;r<t.length;r++){var a=t[r];a.copy(n,o),o+=a.length}return n},i.byteLength=_,i.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?R(this,0,t):y.apply(this,arguments)},i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===i.compare(this,t)},i.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},i.prototype.compare=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:i.compare(this,t)},i.prototype.indexOf=function(t,e){function r(t,e,r){for(var n=-1,i=0;r+i<t.length;i++)if(t[r+i]===e[-1===n?0:i-n]){if(-1===n&&(n=i),i-n+1===e.length)return r+n}else n=-1;return-1}if(e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(e<0&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(i.isBuffer(t))return r(this,t,e);if("number"==typeof t)return i.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):r(this,[t],e);throw new TypeError("val must be string, number or Buffer")},i.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},i.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},i.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else if(isFinite(e))e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else{var i=n;n=e,e=0|r,r=i}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return m(this,t,e,r);case"utf8":case"utf-8":return E(this,t,e,r);case"ascii":return b(this,t,e,r);case"binary":return A(this,t,e,r);case"base64":return w(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;i.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n;if(i.TYPED_ARRAY_SUPPORT)n=i._augment(this.subarray(t,e));else{var o=e-t;n=new i(o,void 0);for(var a=0;a<o;a++)n[a]=this[a+t]}return n.length&&(n.parent=this.parent||this),n},i.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||P(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},i.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||P(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},i.prototype.readUInt8=function(t,e){return e||P(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return e||P(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return e||P(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||P(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},i.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||P(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},i.prototype.readInt8=function(t,e){return e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){e||P(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(t,e){e||P(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(t,e){return e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return e||P(t,4,this.length),W.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return e||P(t,4,this.length),W.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return e||P(t,8,this.length),W.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return e||P(t,8,this.length),W.read(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||C(this,t,e,r,Math.pow(2,8*r),0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},i.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||C(this,t,e,r,Math.pow(2,8*r),0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},i.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,1,255,0),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},i.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},i.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},i.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):O(this,t,e,!0),e+4},i.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},i.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);C(this,t,e,r,i-1,-i)}var o=0,a=1,s=t<0?1:0;for(this[e]=255&t;++o<r&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+r},i.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);C(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=t<0?1:0;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+r},i.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,1,127,-128),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},i.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},i.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},i.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):O(this,t,e,!0),e+4},i.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},i.prototype.writeFloatLE=function(t,e,r){return B(this,t,e,!0,r)},i.prototype.writeFloatBE=function(t,e,r){return B(this,t,e,!1,r)},i.prototype.writeDoubleLE=function(t,e,r){return F(this,t,e,!0,r)},i.prototype.writeDoubleBE=function(t,e,r){return F(this,t,e,!1,r)},i.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o,a=n-r;if(this===t&&r<e&&e<n)for(o=a-1;o>=0;o--)t[o+e]=this[o+r];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;o++)t[o+e]=this[o+r];else t._set(this.subarray(r,r+a),e);return a},i.prototype.fill=function(t,e,r){if(t||(t=0),e||(e=0),r||(r=this.length),r<e)throw new RangeError("end < start");if(r!==e&&0!==this.length){if(e<0||e>=this.length)throw new RangeError("start out of bounds");if(r<0||r>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof t)for(n=e;n<r;n++)this[n]=t;else{var i=X(t.toString()),o=i.length;for(n=e;n<r;n++)this[n]=i[n%o]}return this}},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i.TYPED_ARRAY_SUPPORT)return new i(this).buffer;for(var t=new Uint8Array(this.length),e=0,r=t.length;e<r;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Q=i.prototype;i._augment=function(t){return t.constructor=i,t._isBuffer=!0,t._set=t.set,t.get=Q.get,t.set=Q.set,t.write=Q.write,t.toString=Q.toString,t.toLocaleString=Q.toString,t.toJSON=Q.toJSON,t.equals=Q.equals,t.compare=Q.compare,t.indexOf=Q.indexOf,t.copy=Q.copy,t.slice=Q.slice,t.readUIntLE=Q.readUIntLE,t.readUIntBE=Q.readUIntBE,t.readUInt8=Q.readUInt8,t.readUInt16LE=Q.readUInt16LE,t.readUInt16BE=Q.readUInt16BE,t.readUInt32LE=Q.readUInt32LE,t.readUInt32BE=Q.readUInt32BE,t.readIntLE=Q.readIntLE,t.readIntBE=Q.readIntBE,t.readInt8=Q.readInt8,t.readInt16LE=Q.readInt16LE,t.readInt16BE=Q.readInt16BE,t.readInt32LE=Q.readInt32LE,t.readInt32BE=Q.readInt32BE,t.readFloatLE=Q.readFloatLE,t.readFloatBE=Q.readFloatBE,t.readDoubleLE=Q.readDoubleLE,t.readDoubleBE=Q.readDoubleBE,t.writeUInt8=Q.writeUInt8,t.writeUIntLE=Q.writeUIntLE,t.writeUIntBE=Q.writeUIntBE,t.writeUInt16LE=Q.writeUInt16LE,t.writeUInt16BE=Q.writeUInt16BE,t.writeUInt32LE=Q.writeUInt32LE,t.writeUInt32BE=Q.writeUInt32BE,t.writeIntLE=Q.writeIntLE,t.writeIntBE=Q.writeIntBE,t.writeInt8=Q.writeInt8,t.writeInt16LE=Q.writeInt16LE,t.writeInt16BE=Q.writeInt16BE,t.writeInt32LE=Q.writeInt32LE,t.writeInt32BE=Q.writeInt32BE,t.writeFloatLE=Q.writeFloatLE,t.writeFloatBE=Q.writeFloatBE,t.writeDoubleLE=Q.writeDoubleLE,t.writeDoubleBE=Q.writeDoubleBE,t.fill=Q.fill,t.inspect=Q.inspect,t.toArrayBuffer=Q.toArrayBuffer,t};var $=/[^+\/0-9A-Za-z-_]/g}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t(8).Buffer)},{6:6,8:8,9:9,90:90}],9:[function(t,e,r){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],10:[function(t,e,r){function n(t,e,r,n,u){o(t,r[0],r[1],0),o(e,r[0],r[1],1),i(t,t,n,u),i(e,e,n,u),a(e,e,t),s(e,e)}var i=t(12),o=t(69),a=t(71),s=t(66);e.exports=n},{12:12,66:66,69:69,71:71}],11:[function(t,e,r){function n(t,e,r,n){var c=r[0],f=r[1],l=r[2],h=r[3],p=a,d=s;o(u,e[0],e[1],e[2],1),i(u,u,n);var g=u[3];return 0!==g&&(u[0]=u[0]/g,u[1]=u[1]/g,u[2]=u[2]/g),t[0]=c+l/2*u[0]+(0+l/2),t[1]=f+h/2*u[1]+(0+h/2),t[2]=(d-p)/2*u[2]+(d+p)/2,t[3]=0===g?0:1/g,t}var i=t(75),o=t(74),a=0,s=1,u=[0,0,0,0];e.exports=n},{74:74,75:75}],12:[function(t,e,r){function n(t,e,r,n){var o=r[0],a=r[1],s=r[2],u=r[3],c=e[0],f=e[1],l=e[2];return c-=o,f=u-f-1,f-=a,t[0]=2*c/s-1,t[1]=2*f/u-1,t[2]=2*l-1,i(t,t,n)}var i=t(13);e.exports=n},{13:13}],13:[function(t,e,r){function n(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],u=r[2],c=r[3],f=r[4],l=r[5],h=r[6],p=r[7],d=r[8],g=r[9],v=r[10],_=r[11],y=r[12],m=r[13],E=r[14],b=r[15],A=1/(n*c+i*p+o*_+b);return t[0]=(n*a+i*f+o*d+y)*A,t[1]=(n*s+i*l+o*g+m)*A,t[2]=(n*u+i*h+o*v+E)*A,t}e.exports=n},{}],14:[function(t,e,r){function n(t,e,r){function n(){var e=n.parent||t.parentNode;if("function"==typeof e)var r=e(o)||o,s=r[0],u=r[1];else if(e&&e!==document.body)var c=i(e),s=0|c[0],u=0|c[1];else var s=window.innerWidth,u=window.innerHeight;return a?(t.setAttribute("width",s*n.scale+"px"),t.setAttribute("height",u*n.scale+"px")):(t.width=s*n.scale,t.height=u*n.scale),t.style.width=s+"px",t.style.height=u+"px",n}var a="SVG"===t.nodeName.toUpperCase();return t.style.position=t.style.position||"absolute",t.style.top=0,t.style.left=0,n.scale=parseFloat(r||1),n.parent=e,n()}var i=t(27);e.exports=n;var o=new Float32Array(2)},{27:27}],15:[function(t,e,r){var n=t(14),i=t(113);e.exports=function(t,e){function r(){o();var e=t.width,r=t.height;s[0]=e/o.scale,s[1]=r/o.scale}if(!t)throw new TypeError("must specify a canvas element");e=e||{};var o=n(t,e.parent,e.scale),a=i(),s=[0,0];return r(),window.addEventListener("resize",function(){r(),a.emit("resize")},!1),Object.defineProperties(a,{scale:{get:function(){return o.scale},set:function(t){o.scale=t}},shape:{get:function(){return s}},parent:{get:function(){return o.parent},set:function(t){o.parent=t}}}),a}},{113:113,14:14}],16:[function(t,e,r){function n(t,e,r){return e<r?t<e?e:t>r?r:t:t<r?r:t>e?e:t}e.exports=n},{}],17:[function(t,e,r){"use strict";function n(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function i(t){var e=new n;e.pre=t.pre,e.body=t.body,e.post=t.post;var r=t.args.slice(0);e.argTypes=r;for(var i=0;i<r.length;++i){var a=r[i];if("array"===a||"object"==typeof a&&a.blockIndices){if(e.argTypes[i]="array",e.arrayArgs.push(i),e.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),e.shimArgs.push("array"+i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)e.scalarArgs.push(i),e.shimArgs.push("scalar"+i);else if("index"===a){if(e.indexArgs.push(i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(e.shapeArgs.push(i),i<e.pre.args.length&&e.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<e.post.args.length&&e.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+r[i]);e.argTypes[i]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(i)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,o(e)}var o=t(19);e.exports=i},{19:19}],18:[function(t,e,r){"use strict";function n(t,e,r){var n,i,o=t.length,a=e.arrayArgs.length,s=e.indexArgs.length>0,u=[],c=[],f=0,l=0;for(n=0;n<o;++n)c.push(["i",n,"=0"].join(""));for(i=0;i<a;++i)for(n=0;n<o;++n)l=f,f=t[n],0===n?c.push(["d",i,"s",n,"=t",i,"p",f].join("")):c.push(["d",i,"s",n,"=(t",i,"p",f,"-s",l,"*t",i,"p",l,")"].join(""));for(c.length>0&&u.push("var "+c.join(",")),n=o-1;n>=0;--n)f=t[n],u.push(["for(i",n,"=0;i",n,"<s",f,";++i",n,"){"].join(""));for(u.push(r),n=0;n<o;++n){for(l=f,f=t[n],i=0;i<a;++i)u.push(["p",i,"+=d",i,"s",n].join(""));s&&(n>0&&u.push(["index[",l,"]-=s",l].join("")),u.push(["++index[",f,"]"].join(""))),u.push("}")}return u.join("\n")}function i(t,e,r,i){for(var o=e.length,a=r.arrayArgs.length,s=r.blockSize,u=r.indexArgs.length>0,c=[],f=0;f<a;++f)c.push(["var offset",f,"=p",f].join(""));for(var f=t;f<o;++f)c.push(["for(var j"+f+"=SS[",e[f],"]|0;j",f,">0;){"].join("")),c.push(["if(j",f,"<",s,"){"].join("")),c.push(["s",e[f],"=j",f].join("")),c.push(["j",f,"=0"].join("")),c.push(["}else{s",e[f],"=",s].join("")),c.push(["j",f,"-=",s,"}"].join("")),u&&c.push(["index[",e[f],"]=j",f].join(""));for(var f=0;f<a;++f){for(var l=["offset"+f],h=t;h<o;++h)l.push(["j",h,"*t",f,"p",e[h]].join(""));c.push(["p",f,"=(",l.join("+"),")"].join(""))}c.push(n(e,r,i));for(var f=t;f<o;++f)c.push("}");return c.join("\n")}function o(t){for(var e=0,r=t[0].length;e<r;){for(var n=1;n<t.length;++n)if(t[n][e]!==t[0][e])return e;++e}return e}function a(t,e,r){for(var n=t.body,i=[],o=[],a=0;a<t.args.length;++a){var s=t.args[a];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),c="",f=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var l=e.offsetArgIndex.indexOf(a);f=e.offsetArgs[l].array,c="+q"+l;case"array":c="p"+f+c;var h="l"+a,p="a"+f;if(0===e.arrayBlockIndices[f])1===s.count?"generic"===r[f]?s.lvalue?(i.push(["var ",h,"=",p,".get(",c,")"].join("")),n=n.replace(u,h),o.push([p,".set(",c,",",h,")"].join(""))):n=n.replace(u,[p,".get(",c,")"].join("")):n=n.replace(u,[p,"[",c,"]"].join("")):"generic"===r[f]?(i.push(["var ",h,"=",p,".get(",c,")"].join("")),n=n.replace(u,h),s.lvalue&&o.push([p,".set(",c,",",h,")"].join(""))):(i.push(["var ",h,"=",p,"[",c,"]"].join("")),n=n.replace(u,h),s.lvalue&&o.push([p,"[",c,"]=",h].join("")));else{for(var d=[s.name],g=[c],v=0;v<Math.abs(e.arrayBlockIndices[f]);v++)d.push("\\s*\\[([^\\]]+)\\]"),g.push("$"+(v+1)+"*t"+f+"b"+v);if(u=new RegExp(d.join(""),"g"),c=g.join("+"),"generic"===r[f])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(u,[p,"[",c,"]"].join(""))}break;case"scalar":n=n.replace(u,"Y"+e.scalarArgs.indexOf(a));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[i.join("\n"),n,o.join("\n")].join("\n").trim()}function s(t){for(var e=new Array(t.length),r=!0,n=0;n<t.length;++n){var i=t[n],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?e[n]="u"+i.charAt(1)+o:e[n]=i.charAt(0)+o,n>0&&(r=r&&e[n]===e[n-1])}return r?e[0]:e.join("")}function u(t,e){for(var r=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,u=new Array(t.arrayArgs.length),f=new Array(t.arrayArgs.length),l=0;l<t.arrayArgs.length;++l)f[l]=e[2*l],u[l]=e[2*l+1];for(var h=[],p=[],d=[],g=[],v=[],l=0;l<t.arrayArgs.length;++l){t.arrayBlockIndices[l]<0?(d.push(0),g.push(r),h.push(r),p.push(r+t.arrayBlockIndices[l])):(d.push(t.arrayBlockIndices[l]),g.push(t.arrayBlockIndices[l]+r),h.push(0),p.push(t.arrayBlockIndices[l]))
;for(var _=[],y=0;y<u[l].length;y++)d[l]<=u[l][y]&&u[l][y]<g[l]&&_.push(u[l][y]-d[l]);v.push(_)}for(var m=["SS"],E=["'use strict'"],b=[],y=0;y<r;++y)b.push(["s",y,"=SS[",y,"]"].join(""));for(var l=0;l<t.arrayArgs.length;++l){m.push("a"+l),m.push("t"+l),m.push("p"+l);for(var y=0;y<r;++y)b.push(["t",l,"p",y,"=t",l,"[",d[l]+y,"]"].join(""));for(var y=0;y<Math.abs(t.arrayBlockIndices[l]);++y)b.push(["t",l,"b",y,"=t",l,"[",h[l]+y,"]"].join(""))}for(var l=0;l<t.scalarArgs.length;++l)m.push("Y"+l);if(t.shapeArgs.length>0&&b.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var A=new Array(r),l=0;l<r;++l)A[l]="0";b.push(["index=[",A.join(","),"]"].join(""))}for(var l=0;l<t.offsetArgs.length;++l){for(var w=t.offsetArgs[l],T=[],y=0;y<w.offset.length;++y)0!==w.offset[y]&&(1===w.offset[y]?T.push(["t",w.array,"p",y].join("")):T.push([w.offset[y],"*t",w.array,"p",y].join("")));0===T.length?b.push("q"+l+"=0"):b.push(["q",l,"=",T.join("+")].join(""))}var x=c([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));b=b.concat(x),b.length>0&&E.push("var "+b.join(","));for(var l=0;l<t.arrayArgs.length;++l)E.push("p"+l+"|=0");t.pre.body.length>3&&E.push(a(t.pre,t,f));var R=a(t.body,t,f),I=o(v);I<r?E.push(i(I,v[0],t,R)):E.push(n(v[0],t,R)),t.post.body.length>3&&E.push(a(t.post,t,f)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+E.join("\n")+"\n----------");var S=[t.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",I,s(f)].join("");return new Function(["function ",S,"(",m.join(","),"){",E.join("\n"),"} return ",S].join(""))()}var c=t(126);e.exports=u},{126:126}],19:[function(t,e,r){"use strict";function n(t){var e=["'use strict'","var CACHED={}"],r=[],n=t.funcName+"_cwise_thunk";e.push(["return function ",n,"(",t.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],s=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],u=[],c=[],f=0;f<t.arrayArgs.length;++f){var l=t.arrayArgs[f];r.push(["t",l,"=array",l,".dtype,","r",l,"=array",l,".order"].join("")),o.push("t"+l),o.push("r"+l),a.push("t"+l),a.push("r"+l+".join()"),s.push("array"+l+".data"),s.push("array"+l+".stride"),s.push("array"+l+".offset|0"),f>0&&(u.push("array"+t.arrayArgs[0]+".shape.length===array"+l+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[f]))),c.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+l+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[f])+"]"))}t.arrayArgs.length>1&&(e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),e.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}"));for(var f=0;f<t.scalarArgs.length;++f)s.push("scalar"+t.scalarArgs[f]);return r.push(["type=[",a.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),e.push("var "+r.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------"),new Function("compile",e.join("\n"))(i.bind(void 0,t))}var i=t(18);e.exports=n},{18:18}],20:[function(t,e,r){e.exports=t(21)},{21:21}],21:[function(t,e,r){!function(){function r(t,e){var r,n;if(!i.isArray(t))throw new TypeError("parameter type is not an Array");for(r=0,n=t.length;r<n;++r)if(t[r]===e)return r;return-1}function n(t){function e(t,n,a,s){var u,c,f,l,h,p,d,g;if(null===t||"object"!=typeof t)return t;if(i.isDate(t))return new Date(Number(t));if(i.isRegExp(t))return new RegExp(t.source,String(t).slice(t.source.length+2));for(u=o(t),c=0,f=u.length;c<f;++c)l=u[c],h=t[l],null!==h&&"object"==typeof h&&(p=r(a,h),-1===p?(d=i.isArray(h)?[]:{},a.push(h),s.push(d)):g=s[p]),n[l]=g||e(h,d,a,s),p=d=g=null;return n}var n=i.isArray(t)?[]:{};return e(t,n,[t],[n])}var i=void 0!==e?t(129):function(){function t(t){return"object"==typeof t&&"[object Array]"===n.call(t)}function e(t){return"object"==typeof t&&"[object Date]"===n.call(t)}function r(t){return"object"==typeof t&&"[object RegExp]"===n.call(t)}var n=Object.prototype.toString;return{isArray:Array.isArray||t,isDate:e,isRegExp:r}}(),o=Object.keys||function(t){var e,r=[];if(null===t||"object"!=typeof t)throw new TypeError("parameter type is not an Object");for(e in t)t.hasOwnProperty(e)&&r.push(e);return r};void 0!==e?e.exports=n:this.deepcopy=n}()},{129:129}],22:[function(t,e,r){"use strict";e.exports=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}},{}],23:[function(t,e,r){function n(t,e){if("string"!=typeof t)throw new TypeError("String expected");e||(e=document);var r=/<([\w:]+)/.exec(t);if(!r)return e.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var n=r[1];if("body"==n){var i=e.createElement("html");return i.innerHTML=t,i.removeChild(i.lastChild)}var o=Object.prototype.hasOwnProperty.call(a,n)?a[n]:a._default,s=o[0],u=o[1],c=o[2],i=e.createElement("div");for(i.innerHTML=u+t+c;s--;)i=i.lastChild;if(i.firstChild==i.lastChild)return i.removeChild(i.firstChild);for(var f=e.createDocumentFragment();i.firstChild;)f.appendChild(i.removeChild(i.firstChild));return f}e.exports=n;var i,o=!1;"undefined"!=typeof document&&(i=document.createElement("div"),i.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',o=!i.getElementsByTagName("link").length,i=void 0);var a={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:o?[1,"X<div>","</div>"]:[0,"",""]};a.td=a.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],a.option=a.optgroup=[1,'<select multiple="multiple">',"</select>"],a.thead=a.tbody=a.colgroup=a.caption=a.tfoot=[1,"<table>","</table>"],a.polyline=a.ellipse=a.polygon=a.circle=a.text=a.line=a.path=a.rect=a.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],24:[function(t,e,r){function n(t,e){return{configurable:!0,enumerable:!0,get:t,set:e}}e.exports=n},{}],25:[function(t,e,r){(function(t){(function(){e.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray;case"generic":case"data":case"dataview":return ArrayBuffer;case"buffer":return void 0===t?ArrayBuffer:t}}}).call(this)}).call(this,t(8).Buffer)},{8:8}],26:[function(t,e,r){"use strict";function n(t,e,r){var i=0|t[r];if(i<=0)return[];var o,a=new Array(i);if(r===t.length-1)for(o=0;o<i;++o)a[o]=e;else for(o=0;o<i;++o)a[o]=n(t,e,r+1);return a}function i(t,e){var r,n;for(r=new Array(t),n=0;n<t;++n)r[n]=e;return r}function o(t,e){switch(void 0===e&&(e=0),typeof t){case"number":if(t>0)return i(0|t,e);break;case"object":if("number"==typeof t.length)return n(t,e,0)}return[]}e.exports=o},{}],27:[function(t,e,r){function n(t){if(t===window||t===document.body)return[window.innerWidth,window.innerHeight];if(!t.parentNode){var e=!0;document.body.appendChild(t)}var r=t.getBoundingClientRect(),n=getComputedStyle(t),o=(0|r.height)+i(n.getPropertyValue("margin-top"))+i(n.getPropertyValue("margin-bottom")),a=(0|r.width)+i(n.getPropertyValue("margin-left"))+i(n.getPropertyValue("margin-right"));return e&&document.body.removeChild(t),[a,o]}function i(t){return parseFloat(t)||0}e.exports=n},{}],28:[function(t,e,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,r,n,o,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var f=new Error('Uncaught, unspecified "error" event. ('+e+")");throw f.context=e,f}if(r=this._events[t],s(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),r.apply(this,o)}else if(a(r))for(o=Array.prototype.slice.call(arguments,1),c=r.slice(),n=c.length,u=0;u<n;u++)c[u].apply(this,o);return!0},n.prototype.addListener=function(t,e){var r;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned&&(r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var n=!1;return r.listener=e,this.on(t,r),this},n.prototype.removeListener=function(t,e){var r,n,o,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],o=r.length,n=-1,r===e||i(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(r)){for(s=o;s-- >0;)if(r[s]===e||r[s].listener&&r[s].listener===e){n=s;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],i(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},{}],29:[function(t,e,r){function n(t,e){if("string"!=typeof t)throw new TypeError("must specify type string");if(e=e||{},"undefined"==typeof document&&!e.canvas)return null;var r=e.canvas||document.createElement("canvas");"number"==typeof e.width&&(r.width=e.width),"number"==typeof e.height&&(r.height=e.height);var n,i=e;try{var o=[t];0===t.indexOf("webgl")&&o.push("experimental-"+t);for(var a=0;a<o.length;a++)if(n=r.getContext(o[a],i))return n}catch(t){n=null}return n||null}e.exports=n},{}],30:[function(t,e,r){function n(t,e,r){if(!(this instanceof n))return new n(t,e,r);this.gl=t,this.audio=e,this.ctx=r||new AudioContext,this.waa=i(this.audio,this.ctx);var s=(this.waa.analyser[0]||this.waa.analyser).frequencyBinCount;this.waveNda=a(new Float32Array(s),[s,1]),this.waveTex=o(t,this.waveNda,{float:!0}),this.waveFlt=this.waveNda.data,this.freqNda=a(new Float32Array(s),[s,1]),this.freqTex=o(t,this.freqNda,{float:!0}),this.freqFlt=this.freqNda.data}var i=t(133),o=t(55),a=t(99);e.exports=n,n.prototype.waveform=function(t){return this.waa.waveform(null,t)},n.prototype.frequencies=function(t){return this.waa.frequencies(null,t)},n.prototype.bindWaveform=function(t){for(var e=this.waveform(),r=this.waveFlt,n=0;n<e.length;n++)r[n]=(e[n]-128)/128;var i=this.waveTex.bind(t);return this.waveTex.setPixels(this.waveNda),i},n.prototype.bindFrequencies=function(t){for(var e=this.frequencies(),r=this.freqFlt,n=0;n<e.length;n++)r[n]=e[n]/256;var i=this.freqTex.bind(t);return this.freqTex.setPixels(this.freqNda),i}},{133:133,55:55,99:99}],31:[function(t,e,r){"use strict";function n(t,e,r,n,i){this.gl=t,this.type=e,this.handle=r,this.length=n,this.usage=i}function i(t,e,r,n,i,o){var a=i.length*i.BYTES_PER_ELEMENT;if(o<0)return t.bufferData(e,i,n),a;if(a+o>r)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(e,o,i),r}function o(t,e){for(var r=u.malloc(t.length,e),n=t.length,i=0;i<n;++i)r[i]=t[i];return r}function a(t,e){for(var r=1,n=e.length-1;n>=0;--n){if(e[n]!==r)return!1;r*=t[n]}return!0}function s(t,e,r,i){if(r=r||t.ARRAY_BUFFER,i=i||t.DYNAMIC_DRAW,r!==t.ARRAY_BUFFER&&r!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(i!==t.DYNAMIC_DRAW&&i!==t.STATIC_DRAW&&i!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var o=t.createBuffer(),a=new n(t,r,o,0,i);return a.update(e),a}var u=t(125),c=t(98),f=t(99),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"],h=n.prototype;h.bind=function(){this.gl.bindBuffer(this.type,this.handle)},h.unbind=function(){this.gl.bindBuffer(this.type,null)},h.dispose=function(){this.gl.deleteBuffer(this.handle)},h.update=function(t,e){if("number"!=typeof e&&(e=-1),this.bind(),"object"==typeof t&&void 0!==t.shape){var r=t.dtype;if(l.indexOf(r)<0&&(r="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){r=gl.getExtension("OES_element_index_uint")&&"uint16"!==r?"uint32":"uint16"}if(r===t.dtype&&a(t.shape,t.stride))0===t.offset&&t.data.length===t.shape[0]?this.length=i(this.gl,this.type,this.length,this.usage,t.data,e):this.length=i(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e);else{var n=u.malloc(t.size,r),s=f(n,t.shape);c.assign(s,t),this.length=e<0?i(this.gl,this.type,this.length,this.usage,n,e):i(this.gl,this.type,this.length,this.usage,n.subarray(0,t.size),e),u.free(n)}}else if(Array.isArray(t)){var h;h=this.type===this.gl.ELEMENT_ARRAY_BUFFER?o(t,"uint16"):o(t,"float32"),this.length=e<0?i(this.gl,this.type,this.length,this.usage,h,e):i(this.gl,this.type,this.length,this.usage,h.subarray(0,t.length),e),u.free(h)}else if("object"==typeof t&&"number"==typeof t.length)this.length=i(this.gl,this.type,this.length,this.usage,t,e);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(e>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");t|=0,t<=0&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},e.exports=s},{125:125,98:98,99:99}],32:[function(t,e,r){e.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},{}],33:[function(t,e,r){var n=t(32);e.exports=function(t){return n[t]}},{32:32}],34:[function(t,e,r){function n(t,e,r){"use strict";var n=a(e)||"of unknown name (see npm glsl-shader-name)",u="unknown type";void 0!==r&&(u=r===o.FRAGMENT_SHADER?"fragment":"vertex");for(var c=i("Error compiling %s shader %s:\n",u,n),f=i("%s%s",c,t),l=t.split("\n"),h={},p=0;p<l.length;p++){var d=l[p];if(""!==d&&"\0"!==d){var g=parseInt(d.split(":")[2]);if(isNaN(g))throw new Error(i("Could not parse error: %s",d));h[g]=d}}for(var v=s(e).split("\n"),p=0;p<v.length;p++)if(h[p+3]||h[p+2]||h[p+1]){var _=v[p];if(c+=_+"\n",h[p+1]){var y=h[p+1];y=y.substr(y.split(":",3).join(":").length+1).trim(),c+=i("^^^ %s\n\n",y)}}return{long:c.trim(),short:f.trim()}}var i=t(122).sprintf,o=t(33),a=t(80),s=t(1);e.exports=n},{1:1,122:122,33:33,80:80}],35:[function(t,e,r){function n(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=n},{}],36:[function(t,e,r){function n(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=n},{}],37:[function(t,e,r){function n(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],f=e[8],l=e[9],h=e[10],p=e[11],d=e[12],g=e[13],v=e[14],_=e[15],y=r*s-n*a,m=r*u-i*a,E=r*c-o*a,b=n*u-i*s,A=n*c-o*s,w=i*c-o*u,T=f*g-l*d,x=f*v-h*d,R=f*_-p*d,I=l*v-h*g,S=l*_-p*g,N=h*_-p*v,U=y*N-m*S+E*I+b*R-A*x+w*T;return U?(U=1/U,t[0]=(s*N-u*S+c*I)*U,t[1]=(i*S-n*N-o*I)*U,t[2]=(g*w-v*A+_*b)*U,t[3]=(h*A-l*w-p*b)*U,t[4]=(u*R-a*N-c*x)*U,t[5]=(r*N-i*R+o*x)*U,t[6]=(v*E-d*w-_*m)*U,t[7]=(f*w-h*E+p*m)*U,t[8]=(a*S-s*R+c*T)*U,t[9]=(n*R-r*S-o*T)*U,t[10]=(d*A-g*E+_*y)*U,t[11]=(l*E-f*A-p*y)*U,t[12]=(s*x-a*I-u*T)*U,t[13]=(r*I-n*x+i*T)*U,t[14]=(g*m-d*b-v*y)*U,t[15]=(f*b-l*m+h*y)*U,t):null}e.exports=n},{}],38:[function(t,e,r){function n(t,e,r,n){var o,a,s,u,c,f,l,h,p,d,g=e[0],v=e[1],_=e[2],y=n[0],m=n[1],E=n[2],b=r[0],A=r[1],w=r[2];return Math.abs(g-b)<1e-6&&Math.abs(v-A)<1e-6&&Math.abs(_-w)<1e-6?i(t):(l=g-b,h=v-A,p=_-w,d=1/Math.sqrt(l*l+h*h+p*p),l*=d,h*=d,p*=d,o=m*p-E*h,a=E*l-y*p,s=y*h-m*l,d=Math.sqrt(o*o+a*a+s*s),d?(d=1/d,o*=d,a*=d,s*=d):(o=0,a=0,s=0),u=h*s-p*a,c=p*o-l*s,f=l*a-h*o,d=Math.sqrt(u*u+c*c+f*f),d?(d=1/d,u*=d,c*=d,f*=d):(u=0,c=0,f=0),t[0]=o,t[1]=u,t[2]=l,t[3]=0,t[4]=a,t[5]=c,t[6]=h,t[7]=0,t[8]=s,t[9]=f,t[10]=p,t[11]=0,t[12]=-(o*g+a*v+s*_),t[13]=-(u*g+c*v+f*_),t[14]=-(l*g+h*v+p*_),t[15]=1,t)}var i=t(36);e.exports=n},{36:36}],39:[function(t,e,r){function n(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],f=e[7],l=e[8],h=e[9],p=e[10],d=e[11],g=e[12],v=e[13],_=e[14],y=e[15],m=r[0],E=r[1],b=r[2],A=r[3];return t[0]=m*n+E*s+b*l+A*g,t[1]=m*i+E*u+b*h+A*v,t[2]=m*o+E*c+b*p+A*_,t[3]=m*a+E*f+b*d+A*y,m=r[4],E=r[5],b=r[6],A=r[7],t[4]=m*n+E*s+b*l+A*g,t[5]=m*i+E*u+b*h+A*v,t[6]=m*o+E*c+b*p+A*_,t[7]=m*a+E*f+b*d+A*y,m=r[8],E=r[9],b=r[10],A=r[11],t[8]=m*n+E*s+b*l+A*g,t[9]=m*i+E*u+b*h+A*v,t[10]=m*o+E*c+b*p+A*_,t[11]=m*a+E*f+b*d+A*y,m=r[12],E=r[13],b=r[14],A=r[15],t[12]=m*n+E*s+b*l+A*g,t[13]=m*i+E*u+b*h+A*v,t[14]=m*o+E*c+b*p+A*_,t[15]=m*a+E*f+b*d+A*y,t}e.exports=n},{}],40:[function(t,e,r){function n(t,e,r,n,i){var o=1/Math.tan(e/2),a=1/(n-i);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*a,t[15]=0,t}e.exports=n},{}],41:[function(t,e,r){function n(t){if(!(this instanceof n))return new n(t);this.gl=t,this.vertices=i(t,new Float32Array([-1,-1,-1,1,1,1,1,-1]),t.ARRAY_BUFFER,t.STATIC_DRAW),this.texcoords=i(t,new Float32Array([0,1,0,0,1,0,1,1]),t.ARRAY_BUFFER,t.STATIC_DRAW),this.elements=i(t,new Uint16Array([0,1,2,0,2,3]),t.ELEMENT_ARRAY_BUFFER,t.STATIC_DRAW),this.vao=o(t,[{buffer:this.vertices,size:2,normalized:!1},{buffer:this.texcoords,size:2,normalized:!1}],this.elements)}var i=t(31),o=t(59);n.prototype.draw=function(t){t&&t.bind(),this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,6),this.vao.unbind()},n.prototype.dispose=function(){this.vertices.dispose(),this.texcoords.dispose(),this.elements.dispose(),this.vao.dispose(),this.gl=null},e.exports=n},{31:31,59:59}],42:[function(t,e,r){function n(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r*r+n*n+i*i+o*o,s=a?1/a:0;return t[0]=-r*s,t[1]=-n*s,t[2]=-i*s,t[3]=o*s,t}e.exports=n},{}],43:[function(t,e,r){e.exports=t(73)},{73:73}],44:[function(t,e,r){"use strict";function n(t,e,r,n,i,o,a){this._gl=t,this._program=e,this._location=r,this._dimension=n,this._name=i,this._constFunc=o,this._relink=a}function i(t,e,r,i,o,a,s){for(var u=["gl","v"],c=[],f=0;f<i;++f)u.push("x"+f),c.push("x"+f);u.push(["if(x0.length===void 0){return gl.vertexAttrib",i,"f(v,",c.join(),")}else{return gl.vertexAttrib",i,"fv(v,x0)}"].join(""));var l=Function.apply(void 0,u),h=new n(t,e,r,i,a,l,s);Object.defineProperty(o,a,{set:function(e){return t.disableVertexAttribArray(h._location),l(t,h._location,e),e},get:function(){return h},enumerable:!0})}function o(t,e,r,n){for(var o={},a=0,s=r.length;a<s;++a){var u=r[a],c=u.name,f=u.type,l=t.getAttribLocation(e,c);switch(f){case"bool":case"int":case"float":i(t,e,l,1,o,c,n);break;default:if(!(f.indexOf("vec")>=0))throw new Error("gl-shader: Unknown data type for attribute "+c+": "+f);var h=f.charCodeAt(f.length-1)-48;if(h<2||h>4)throw new Error("gl-shader: Invalid data type for attribute "+c+": "+f);i(t,e,l,h,o,c,n)}}return o}e.exports=o;var a=n.prototype;a.pointer=function(t,e,r,n){var i=this._gl;i.vertexAttribPointer(this._location,this._dimension,t||i.FLOAT,!!e,r||0,n||0),this._gl.enableVertexAttribArray(this._location)},Object.defineProperty(a,"location",{get:function(){return this._location},set:function(t){t!==this._location&&(this._location=t,this._gl.bindAttribLocation(this._program,t,this._name),this._gl.linkProgram(this._program),this._relink())}})},{}],45:[function(t,e,r){"use strict";function n(t){return new Function("y","return function(){return y}")(t)}function i(t,e,r,i){function s(r){return new Function("gl","prog","locations","return function(){return gl.getUniform(prog,locations["+r+"])}")(t,e,i)}function u(t,e,r){switch(r){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+e+"],obj"+t+")";case"float":return"gl.uniform1f(locations["+e+"],obj"+t+")";default:var n=r.indexOf("vec");if(!(0<=n&&n<=1&&r.length===4+n)){if(0===r.indexOf("mat")&&4===r.length){var i=r.charCodeAt(r.length-1)-48;if(i<2||i>4)throw new Error("gl-shader: Invalid uniform dimension type for matrix "+name+": "+r);return"gl.uniformMatrix"+i+"fv(locations["+e+"],false,obj"+t+")"}throw new Error("gl-shader: Unknown uniform data type for "+name+": "+r)}var i=r.charCodeAt(r.length-1)-48;if(i<2||i>4)throw new Error("gl-shader: Invalid data type");switch(r.charAt(0)){case"b":case"i":return"gl.uniform"+i+"iv(locations["+e+"],obj"+t+")";case"v":return"gl.uniform"+i+"fv(locations["+e+"],obj"+t+")";default:throw new Error("gl-shader: Unrecognized data type for vector "+name+": "+r)}}}function c(t,e){if("object"!=typeof e)return[[t,e]];var r=[];for(var n in e){var i=e[n],o=t;parseInt(n)+""===n?o+="["+n+"]":o+="."+n,"object"==typeof i?r.push.apply(r,c(o,i)):r.push([o,i])}return r}function f(n){for(var o=["return function updateProperty(obj){"],a=c("",n),s=0;s<a.length;++s){var f=a[s],l=f[0],h=f[1];i[h]&&o.push(u(l,h,r[h].type))}return o.push("return obj}"),new Function("gl","prog","locations",o.join("\n"))(t,e,i)}function l(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var e=t.indexOf("vec");if(0<=e&&e<=1&&t.length===4+e){var r=t.charCodeAt(t.length-1)-48;if(r<2||r>4)throw new Error("gl-shader: Invalid data type");return"b"===t.charAt(0)?o(r,!1):o(r)}if(0===t.indexOf("mat")&&4===t.length){var r=t.charCodeAt(t.length-1)-48;if(r<2||r>4)throw new Error("gl-shader: Invalid uniform dimension type for matrix "+name+": "+t);return o([r,r])}throw new Error("gl-shader: Unknown uniform data type for "+name+": "+t)}}function h(t,e,o){if("object"==typeof o){var a=p(o);Object.defineProperty(t,e,{get:n(a),set:f(o),enumerable:!0,configurable:!1})}else i[o]?Object.defineProperty(t,e,{get:s(o),set:f(o),enumerable:!0,configurable:!1}):t[e]=l(r[o].type)}function p(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var r=0;r<t.length;++r)h(e,r,t[r])}else{e={};for(var n in t)h(e,n,t[n])}return e}var d=a(r,!0);return{get:n(p(d)),set:f(d),enumerable:!0,configurable:!0}}var o=t(26),a=t(46);e.exports=i},{26:26,46:46}],46:[function(t,e,r){"use strict";function n(t,e){for(var r={},n=0;n<t.length;++n)for(var i=t[n].name,o=i.split("."),a=r,s=0;s<o.length;++s){var u=o[s].split("[");if(u.length>1){u[0]in a||(a[u[0]]=[]),a=a[u[0]];for(var c=1;c<u.length;++c){var f=parseInt(u[c]);c<u.length-1||s<o.length-1?(f in a||(c<u.length-1?a[f]=[]:a[f]={}),a=a[f]):a[f]=e?n:t[n].type}}else s<o.length-1?(u[0]in a||(a[u[0]]={}),a=a[u[0]]):a[u[0]]=e?n:t[n].type}return r}e.exports=n},{}],47:[function(t,e,r){"use strict";function n(t,e,r,n){this.gl=t,this.handle=e,this.attributes=null,this.uniforms=null,this.types=null,this.vertexShader=r,this.fragmentShader=n}function i(t,e,r,n){for(var i=0;i<n.length;++i)r[i]=t.getUniformLocation(e,n[i].name)}function o(t,e,r,i,o){var a=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(a,e),t.compileShader(a),!t.getShaderParameter(a,t.COMPILE_STATUS)){var s=t.getShaderInfoLog(a);throw console.error("gl-shader: Error compling vertex shader:",s),new Error("gl-shader: Error compiling vertex shader:"+s)}var u=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(u,r),
t.compileShader(u),!t.getShaderParameter(u,t.COMPILE_STATUS)){var s=t.getShaderInfoLog(u);throw console.error("gl-shader: Error compiling fragment shader:",s),new Error("gl-shader: Error compiling fragment shader:"+s)}var c=t.createProgram();if(t.attachShader(c,u),t.attachShader(c,a),o.forEach(function(e){"number"==typeof e.location&&t.bindAttribLocation(c,e.location,e.name)}),t.linkProgram(c),!t.getProgramParameter(c,t.LINK_STATUS)){var s=t.getProgramInfoLog(c);throw console.error("gl-shader: Error linking shader program:",s),new Error("gl-shader: Error linking shader program:"+s)}var f=new n(t,c,a,u);return f.updateExports(i,o),f}var a=t(45),s=t(44),u=t(46);n.prototype.bind=function(){this.gl.useProgram(this.handle)},n.prototype.dispose=function(){var t=this.gl;t.deleteShader(this.vertexShader),t.deleteShader(this.fragmentShader),t.deleteProgram(this.handle)},n.prototype.updateExports=function(t,e){var r=new Array(t.length),n=this.handle,o=this.gl,c=i.bind(void 0,o,n,r,t);c(),this.types={uniforms:u(t),attributes:u(e)},this.attributes=s(o,n,e,c),Object.defineProperty(this,"uniforms",a(o,n,t,r))},e.exports=o},{44:44,45:45,46:46}],48:[function(t,e,r){"use strict";function n(t){this.gl=t,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function i(t,e){return t.name<e.name?-1:1}function o(t,e,r,i,o){var a=new n(t);return a.update(e,r,i,o),a}var a=t(51),s=t(50),u=t(52),c=t(54),f=t(53),l=t(49),h=n.prototype;h.bind=function(){this.program||this._relink();var t,e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),r=this.gl.lastAttribCount;if(e>r)for(t=r;t<e;t++)this.gl.enableVertexAttribArray(t);else if(r>e)for(t=e;t<r;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=e,this.gl.useProgram(this.program)},h.dispose=function(){for(var t=this.gl.lastAttribCount,e=0;e<t;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},h.update=function(t,e,r,n){function o(){p.program=c.program(d,p._vref,p._fref,b,A);for(var t=0;t<r.length;++t)S[t]=d.getUniformLocation(p.program,r[t].name)}if(!e||1===arguments.length){var h=t;t=h.vertex,e=h.fragment,r=h.uniforms,n=h.attributes}var p=this,d=p.gl,g=p._vref;p._vref=c.shader(d,d.VERTEX_SHADER,t),g&&g.dispose(),p.vertShader=p._vref.shader;var v=this._fref;if(p._fref=c.shader(d,d.FRAGMENT_SHADER,e),v&&v.dispose(),p.fragShader=p._fref.shader,!r||!n){var _=d.createProgram();if(d.attachShader(_,p.fragShader),d.attachShader(_,p.vertShader),d.linkProgram(_),!d.getProgramParameter(_,d.LINK_STATUS)){var y=d.getProgramInfoLog(_);throw new l(y,"Error linking program:"+y)}r=r||f.uniforms(d,_),n=n||f.attributes(d,_),d.deleteProgram(_)}n=n.slice(),n.sort(i);var m,E=[],b=[],A=[];for(m=0;m<n.length;++m){var w=n[m];if(w.type.indexOf("mat")>=0){for(var T=0|w.type.charAt(w.type.length-1),x=new Array(T),R=0;R<T;++R)x[R]=A.length,b.push(w.name+"["+R+"]"),"number"==typeof w.location?A.push(w.location+R):Array.isArray(w.location)&&w.location.length===T&&"number"==typeof w.location[R]?A.push(0|w.location[R]):A.push(-1);E.push({name:w.name,type:w.type,locations:x})}else E.push({name:w.name,type:w.type,locations:[A.length]}),b.push(w.name),"number"==typeof w.location?A.push(0|w.location):A.push(-1)}var I=0;for(m=0;m<A.length;++m)if(A[m]<0){for(;A.indexOf(I)>=0;)I+=1;A[m]=I}var S=new Array(r.length);o(),p._relink=o,p.types={uniforms:u(r),attributes:u(n)},p.attributes=s(d,p,E,A),Object.defineProperty(p,"uniforms",a(d,p,r,S))},e.exports=o},{49:49,50:50,51:51,52:52,53:53,54:54}],49:[function(t,e,r){function n(t,e,r){this.shortMessage=e||"",this.longMessage=r||"",this.rawError=t||"",this.message="gl-shader: "+(e||t||"")+(r?"\n"+r:""),this.stack=(new Error).stack}n.prototype=new Error,n.prototype.name="GLError",n.prototype.constructor=n,e.exports=n},{}],50:[function(t,e,r){"use strict";function n(t,e,r,n,i,o){this._gl=t,this._wrapper=e,this._index=r,this._locations=n,this._dimension=i,this._constFunc=o}function i(t,e,r,i,o,a,s){var u=c[o],f=new n(t,e,r,i,o,u);Object.defineProperty(a,s,{set:function(e){return t.disableVertexAttribArray(i[r]),u(t,i[r],e),e},get:function(){return f},enumerable:!0})}function o(t,e,r,n,o,a,s){for(var u=new Array(o),c=new Array(o),f=0;f<o;++f)i(t,e,r[f],n,o,u,f),c[f]=u[f];Object.defineProperty(u,"location",{set:function(t){if(Array.isArray(t))for(var e=0;e<o;++e)c[e].location=t[e];else for(var e=0;e<o;++e)c[e].location=t+e;return t},get:function(){for(var t=new Array(o),e=0;e<o;++e)t[e]=n[r[e]];return t},enumerable:!0}),u.pointer=function(e,i,a,s){e=e||t.FLOAT,i=!!i,a=a||o*o,s=s||0;for(var u=0;u<o;++u){var c=n[r[u]];t.vertexAttribPointer(c,o,e,i,a,s+u*o),t.enableVertexAttribArray(c)}};var l=new Array(o),h=t["vertexAttrib"+o+"fv"];Object.defineProperty(a,s,{set:function(e){for(var i=0;i<o;++i){var a=n[r[i]];if(t.disableVertexAttribArray(a),Array.isArray(e[0]))h.call(t,a,e[i]);else{for(var s=0;s<o;++s)l[s]=e[o*i+s];h.call(t,a,l)}}return e},get:function(){return u},enumerable:!0})}function a(t,e,r,n){for(var a={},u=0,c=r.length;u<c;++u){var f=r[u],l=f.name,h=f.type,p=f.locations;switch(h){case"bool":case"int":case"float":i(t,e,p[0],n,1,a,l);break;default:if(h.indexOf("vec")>=0){var d=h.charCodeAt(h.length-1)-48;if(d<2||d>4)throw new s("","Invalid data type for attribute "+l+": "+h);i(t,e,p[0],n,d,a,l)}else{if(!(h.indexOf("mat")>=0))throw new s("","Unknown data type for attribute "+l+": "+h);var d=h.charCodeAt(h.length-1)-48;if(d<2||d>4)throw new s("","Invalid data type for attribute "+l+": "+h);o(t,e,p,n,d,a,l)}}}return a}e.exports=a;var s=t(49),u=n.prototype;u.pointer=function(t,e,r,n){var i=this,o=i._gl,a=i._locations[i._index];o.vertexAttribPointer(a,i._dimension,t||o.FLOAT,!!e,r||0,n||0),o.enableVertexAttribArray(a)},u.set=function(t,e,r,n){return this._constFunc(this._locations[this._index],t,e,r,n)},Object.defineProperty(u,"location",{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&&(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}});var c=[function(t,e,r){return void 0===r.length?t.vertexAttrib1f(e,r):t.vertexAttrib1fv(e,r)},function(t,e,r,n){return void 0===r.length?t.vertexAttrib2f(e,r,n):t.vertexAttrib2fv(e,r)},function(t,e,r,n,i){return void 0===r.length?t.vertexAttrib3f(e,r,n,i):t.vertexAttrib3fv(e,r)},function(t,e,r,n,i,o){return void 0===r.length?t.vertexAttrib4f(e,r,n,i,o):t.vertexAttrib4fv(e,r)}]},{49:49}],51:[function(t,e,r){"use strict";function n(t){return function(){return t}}function i(t,e){for(var r=new Array(t),n=0;n<t;++n)r[n]=e;return r}function o(t,e,r,o){function u(t){return function(e,r,n){return e.getUniform(r.program,n[t])}}function c(e){return function(n){for(var i=f("",e),a=0;a<i.length;++a){var u=i[a],c=u[0],l=u[1];if(o[l]){var h=n;if("string"==typeof c&&(0===c.indexOf(".")||0===c.indexOf("["))){var p=c;if(0===c.indexOf(".")&&(p=c.slice(1)),p.indexOf("]")===p.length-1){var d=p.indexOf("["),g=p.slice(0,d),v=p.slice(d+1,p.length-1);h=g?n[g][v]:n[v]}else h=n[p]}var _,y=r[l].type;switch(y){case"bool":case"int":case"sampler2D":case"samplerCube":t.uniform1i(o[l],h);break;case"float":t.uniform1f(o[l],h);break;default:var m=y.indexOf("vec");if(!(0<=m&&m<=1&&y.length===4+m)){if(0===y.indexOf("mat")&&4===y.length){if((_=y.charCodeAt(y.length-1)-48)<2||_>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+y);t["uniformMatrix"+_+"fv"](o[l],!1,h);break}throw new s("","Unknown uniform data type for "+name+": "+y)}if((_=y.charCodeAt(y.length-1)-48)<2||_>4)throw new s("","Invalid data type");switch(y.charAt(0)){case"b":case"i":t["uniform"+_+"iv"](o[l],h);break;case"v":t["uniform"+_+"fv"](o[l],h);break;default:throw new s("","Unrecognized data type for vector "+name+": "+y)}}}}}}function f(t,e){if("object"!=typeof e)return[[t,e]];var r=[];for(var n in e){var i=e[n],o=t;parseInt(n)+""===n?o+="["+n+"]":o+="."+n,"object"==typeof i?r.push.apply(r,f(o,i)):r.push([o,i])}return r}function l(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var e=t.indexOf("vec");if(0<=e&&e<=1&&t.length===4+e){var r=t.charCodeAt(t.length-1)-48;if(r<2||r>4)throw new s("","Invalid data type");return"b"===t.charAt(0)?i(r,!1):i(r,0)}if(0===t.indexOf("mat")&&4===t.length){var r=t.charCodeAt(t.length-1)-48;if(r<2||r>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+t);return i(r*r,0)}throw new s("","Unknown uniform data type for "+name+": "+t)}}function h(t,e,i){if("object"==typeof i){var a=p(i);Object.defineProperty(t,e,{get:n(a),set:c(i),enumerable:!0,configurable:!1})}else o[i]?Object.defineProperty(t,e,{get:u(i),set:c(i),enumerable:!0,configurable:!1}):t[e]=l(r[i].type)}function p(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var r=0;r<t.length;++r)h(e,r,t[r])}else{e={};for(var n in t)h(e,n,t[n])}return e}var d=a(r,!0);return{get:n(p(d)),set:c(d),enumerable:!0,configurable:!0}}var a=t(52),s=t(49);e.exports=o},{49:49,52:52}],52:[function(t,e,r){arguments[4][46][0].apply(r,arguments)},{46:46}],53:[function(t,e,r){"use strict";function n(t,e){if(!s){var r=Object.keys(a);s={};for(var n=0;n<r.length;++n){var i=r[n];s[t[i]]=a[i]}}return s[e]}function i(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=[],o=0;o<r;++o){var a=t.getActiveUniform(e,o);if(a){var s=n(t,a.type);if(a.size>1)for(var u=0;u<a.size;++u)i.push({name:a.name.replace("[0]","["+u+"]"),type:s});else i.push({name:a.name,type:s})}}return i}function o(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=[],o=0;o<r;++o){var a=t.getActiveAttrib(e,o);a&&i.push({name:a.name,type:n(t,a.type)})}return i}r.uniforms=i,r.attributes=o;var a={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},s=null},{}],54:[function(t,e,r){"use strict";function n(t,e,r,n,i,o,a){this.id=t,this.src=e,this.type=r,this.shader=n,this.count=o,this.programs=[],this.cache=a}function i(t){this.gl=t,this.shaders=[{},{}],this.programs={}}function o(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS)){var i=t.getShaderInfoLog(n);try{var o=l(i,r,e)}catch(t){throw console.warn("Failed to format compiler error: "+t),new f(i,"Error compiling shader:\n"+i)}throw new f(i,o.short,o.long)}return n}function a(t,e,r,n,i){var o=t.createProgram();t.attachShader(o,e),t.attachShader(o,r);for(var a=0;a<n.length;++a)t.bindAttribLocation(o,i[a],n[a]);if(t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS)){var s=t.getProgramInfoLog(o);throw new f(s,"Error linking program: "+s)}return o}function s(t){var e=p.get(t);return e||(e=new i(t),p.set(t,e)),e}function u(t,e,r){return s(t).getShaderReference(e,r)}function c(t,e,r,n,i){return s(t).getProgram(e,r,n,i)}r.shader=u,r.program=c;var f=t(49),l=t(34),h="undefined"==typeof WeakMap?t(132):WeakMap,p=new h,d=0;n.prototype.dispose=function(){if(0==--this.count){for(var t=this.cache,e=t.gl,r=this.programs,n=0,i=r.length;n<i;++n){var o=t.programs[r[n]];o&&(delete t.programs[n],e.deleteProgram(o))}e.deleteShader(this.shader),delete t.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};var g=i.prototype;g.getShaderReference=function(t,e){var r=this.gl,i=this.shaders[t===r.FRAGMENT_SHADER|0],a=i[e];if(a&&r.isShader(a.shader))a.count+=1;else{var s=o(r,t,e);a=i[e]=new n(d++,e,t,s,[],1,this)}return a},g.getProgram=function(t,e,r,n){var i=[t.id,e.id,r.join(":"),n.join(":")].join("@"),o=this.programs[i];return o&&this.gl.isProgram(o)||(this.programs[i]=o=a(this.gl,t.shader,e.shader,r,n),t.programs.push(i),e.programs.push(i)),o}},{132:132,34:34,49:49}],55:[function(t,e,r){"use strict";function n(t){_=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],y=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],m=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function i(t){return"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&t instanceof ImageData}function o(t,e,r){var n=t.gl,i=n.getParameter(n.MAX_TEXTURE_SIZE);if(e<0||e>i||r<0||r>i)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[e,r],t.bind(),n.texImage2D(n.TEXTURE_2D,0,t.format,e,r,0,t.format,t.type,null),t._mipLevels=[0],t}function a(t,e,r,n,i,o){this.gl=t,this.handle=e,this.format=i,this.type=o,this._shape=[r,n],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var a=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return a._wrapS},set:function(t){return a.wrapS=t}},{get:function(){return a._wrapT},set:function(t){return a.wrapT=t}}]),this._wrapVector=s;var u=[this._shape[0],this._shape[1]];Object.defineProperties(u,[{get:function(){return a._shape[0]},set:function(t){return a.width=t}},{get:function(){return a._shape[1]},set:function(t){return a.height=t}}]),this._shapeVector=u}function s(t,e){return 3===t.length?1===e[2]&&e[1]===t[0]*t[2]&&e[0]===t[2]:1===e[0]&&e[1]===t[0]}function u(t,e,r,n,i,o,a,u){var c=u.dtype,f=u.shape.slice();if(f.length<2||f.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var l=0,h=0,p=s(f,u.stride.slice());"float32"===c?l=t.FLOAT:"float64"===c?(l=t.FLOAT,p=!1,c="float32"):"uint8"===c?l=t.UNSIGNED_BYTE:(l=t.UNSIGNED_BYTE,p=!1,c="uint8");if(2===f.length)h=t.LUMINANCE,f=[f[0],f[1],1],u=d(u.data,f,[u.stride[0],u.stride[1],1],u.offset);else{if(3!==f.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===f[2])h=t.ALPHA;else if(2===f[2])h=t.LUMINANCE_ALPHA;else if(3===f[2])h=t.RGB;else{if(4!==f[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");h=t.RGBA}f[2]}if(h!==t.LUMINANCE&&h!==t.ALPHA||i!==t.LUMINANCE&&i!==t.ALPHA||(h=i),h!==i)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var _=u.size,y=a.indexOf(n)<0;if(y&&a.push(n),l===o&&p)0===u.offset&&u.data.length===_?y?t.texImage2D(t.TEXTURE_2D,n,i,f[0],f[1],0,i,o,u.data):t.texSubImage2D(t.TEXTURE_2D,n,e,r,f[0],f[1],i,o,u.data):y?t.texImage2D(t.TEXTURE_2D,n,i,f[0],f[1],0,i,o,u.data.subarray(u.offset,u.offset+_)):t.texSubImage2D(t.TEXTURE_2D,n,e,r,f[0],f[1],i,o,u.data.subarray(u.offset,u.offset+_));else{var m;m=o===t.FLOAT?v.mallocFloat32(_):v.mallocUint8(_);var b=d(m,f,[f[2],f[2]*f[0],1]);l===t.FLOAT&&o===t.UNSIGNED_BYTE?E(b,u):g.assign(b,u),y?t.texImage2D(t.TEXTURE_2D,n,i,f[0],f[1],0,i,o,m.subarray(0,_)):t.texSubImage2D(t.TEXTURE_2D,n,e,r,f[0],f[1],i,o,m.subarray(0,_)),o===t.FLOAT?v.freeFloat32(m):v.freeUint8(m)}}function c(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function f(t,e,r,n,i){var o=t.getParameter(t.MAX_TEXTURE_SIZE);if(e<0||e>o||r<0||r>o)throw new Error("gl-texture2d: Invalid texture shape");if(i===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var s=c(t);return t.texImage2D(t.TEXTURE_2D,0,n,e,r,0,n,i,null),new a(t,s,e,r,n,i)}function l(t,e,r,n,i,o){var s=c(t);return t.texImage2D(t.TEXTURE_2D,0,i,i,o,e),new a(t,s,r,n,i,o)}function h(t,e){var r=e.dtype,n=e.shape.slice(),i=t.getParameter(t.MAX_TEXTURE_SIZE);if(n[0]<0||n[0]>i||n[1]<0||n[1]>i)throw new Error("gl-texture2d: Invalid texture size");var o=s(n,e.stride.slice()),u=0;"float32"===r?u=t.FLOAT:"float64"===r?(u=t.FLOAT,o=!1,r="float32"):"uint8"===r?u=t.UNSIGNED_BYTE:(u=t.UNSIGNED_BYTE,o=!1,r="uint8");var f=0;if(2===n.length)f=t.LUMINANCE,n=[n[0],n[1],1],e=d(e.data,n,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==n.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===n[2])f=t.ALPHA;else if(2===n[2])f=t.LUMINANCE_ALPHA;else if(3===n[2])f=t.RGB;else{if(4!==n[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");f=t.RGBA}}u!==t.FLOAT||t.getExtension("OES_texture_float")||(u=t.UNSIGNED_BYTE,o=!1);var l,h,p=e.size;if(o)l=0===e.offset&&e.data.length===p?e.data:e.data.subarray(e.offset,e.offset+p);else{var _=[n[2],n[2]*n[0],1];h=v.malloc(p,r);var y=d(h,n,_,0);"float32"!==r&&"float64"!==r||u!==t.UNSIGNED_BYTE?g.assign(y,e):E(y,e),l=h.subarray(0,p)}var m=c(t);return t.texImage2D(t.TEXTURE_2D,0,f,n[0],n[1],0,f,u,l),o||v.free(h),new a(t,m,n[0],n[1],f,u)}function p(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(_||n(t),"number"==typeof arguments[1])return f(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return f(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var e=arguments[1],r=i(e)?e:e.raw;if(r)return l(t,r,0|e.width,0|e.height,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return h(t,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}var d=t(99),g=t(98),v=t(125);e.exports=p;var _=null,y=null,m=null,E=function(t,e){g.muls(t,e,255)},b=a.prototype;Object.defineProperties(b,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&_.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),y.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&_.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),y.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var e=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),e!==this._anisoSamples){var r=this.gl.getExtension("EXT_texture_filter_anisotropic");r&&this.gl.texParameterf(this.gl.TEXTURE_2D,r.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),m.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),m.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;e<2;++e)if(m.indexOf(t[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var r=this.gl;return this.bind(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this._wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return o(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return t|=0,o(this,t,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,o(this,this._shape[0],t),t}}}),b.bind=function(t){var e=this.gl;return void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},b.dispose=function(){this.gl.deleteTexture(this.handle)},b.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),e=0;t>0;++e,t>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},b.setPixels=function(t,e,r,n){var o=this.gl;this.bind(),Array.isArray(e)?(n=r,r=0|e[1],e=0|e[0]):(e=e||0,r=r||0),n=n||0;var a=i(t)?t:t.raw;if(a){this._mipLevels.indexOf(n)<0?(o.texImage2D(o.TEXTURE_2D,0,this.format,this.format,this.type,a),this._mipLevels.push(n)):o.texSubImage2D(o.TEXTURE_2D,n,e,r,this.format,this.type,a)}else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||e+t.shape[1]>this._shape[1]>>>n||r+t.shape[0]>this._shape[0]>>>n||e<0||r<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");u(o,e,r,n,this.format,this.type,this._mipLevels,t)}}},{125:125,98:98,99:99}],56:[function(t,e,r){"use strict";function n(t,e,r){e?e.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var n=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(r){if(r.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<r.length;++i){var o=r[i];if(o.buffer){var a=o.buffer,s=o.size||4,u=o.type||t.FLOAT,c=!!o.normalized,f=o.stride||0,l=o.offset||0;a.bind(),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,s,u,c,f,l)}else{if("number"==typeof o)t.vertexAttrib1f(i,o);else if(1===o.length)t.vertexAttrib1f(i,o[0]);else if(2===o.length)t.vertexAttrib2f(i,o[0],o[1]);else if(3===o.length)t.vertexAttrib3f(i,o[0],o[1],o[2]);else{if(4!==o.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(i,o[0],o[1],o[2],o[3])}t.disableVertexAttribArray(i)}}for(;i<n;++i)t.disableVertexAttribArray(i)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var i=0;i<n;++i)t.disableVertexAttribArray(i)}}e.exports=n},{}],57:[function(t,e,r){"use strict";function n(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}function i(t){return new n(t)}var o=t(56);n.prototype.bind=function(){o(this.gl,this._elements,this._attributes)},n.prototype.update=function(t,e,r){this._elements=e,this._attributes=t,this._elementsType=r||this.gl.UNSIGNED_SHORT},n.prototype.dispose=function(){},n.prototype.unbind=function(){},n.prototype.draw=function(t,e,r){r=r||0;var n=this.gl;this._elements?n.drawElements(t,e,this._elementsType,r):n.drawArrays(t,r,e)},e.exports=i},{56:56}],58:[function(t,e,r){"use strict";function n(t,e,r,n,i,o){this.location=t,this.dimension=e,this.a=r,this.b=n,this.c=i,this.d=o}function i(t,e,r){this.gl=t,this._ext=e,this.handle=r,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}function o(t,e){return new i(t,e,e.createVertexArrayOES())}var a=t(56);n.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},i.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t<this._attribs.length;++t)this._attribs[t].bind(this.gl)},i.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},i.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},i.prototype.update=function(t,e,r){if(this.bind(),a(this.gl,e,t),this.unbind(),this._attribs.length=0,t)for(var i=0;i<t.length;++i){var o=t[i];"number"==typeof o?this._attribs.push(new n(i,1,o)):Array.isArray(o)&&this._attribs.push(new n(i,o.length,o[0],o[1],o[2],o[3]))}this._useElements=!!e,this._elementsType=r||this.gl.UNSIGNED_SHORT},i.prototype.draw=function(t,e,r){r=r||0;var n=this.gl;this._useElements?n.drawElements(t,e,this._elementsType,r):n.drawArrays(t,r,e)},e.exports=o},{56:56}],59:[function(t,e,r){"use strict";function n(t){this.bindVertexArrayOES=t.bindVertexArray.bind(t),this.createVertexArrayOES=t.createVertexArray.bind(t),this.deleteVertexArrayOES=t.deleteVertexArray.bind(t)}function i(t,e,r,i){var s,u=t.createVertexArray?new n(t):t.getExtension("OES_vertex_array_object");return s=u?o(t,u):a(t),s.update(e,r,i),s}var o=t(58),a=t(57);e.exports=i},{57:57,58:58}],60:[function(t,e,r){function n(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}e.exports=n},{}],61:[function(t,e,r){function n(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}e.exports=n},{}],62:[function(t,e,r){function n(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}e.exports=n},{}],63:[function(t,e,r){function n(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],u=r[2];return t[0]=i*u-o*s,t[1]=o*a-n*u,t[2]=n*s-i*a,t}e.exports=n},{}],64:[function(t,e,r){function n(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.exports=n},{}],65:[function(t,e,r){function n(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}e.exports=n},{}],66:[function(t,e,r){function n(t,e){var r=e[0],n=e[1],i=e[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}e.exports=n},{}],67:[function(t,e,r){function n(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}e.exports=n},{}],68:[function(t,e,r){function n(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}e.exports=n},{}],69:[function(t,e,r){function n(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}e.exports=n},{}],70:[function(t,e,r){function n(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}e.exports=n},{}],71:[function(t,e,r){function n(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}e.exports=n},{}],72:[function(t,e,r){function n(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],u=r[2],c=r[3],f=c*n+s*o-u*i,l=c*i+u*n-a*o,h=c*o+a*i-s*n,p=-a*n-s*i-u*o;return t[0]=f*c+p*-a+l*-u-h*-s,t[1]=l*c+p*-s+h*-a-f*-u,t[2]=h*c+p*-u+f*-s-l*-a,t}e.exports=n},{}],73:[function(t,e,r){function n(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r*r+n*n+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=r*a,t[1]=n*a,t[2]=i*a,t[3]=o*a),t}e.exports=n},{}],74:[function(t,e,r){function n(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}e.exports=n},{}],75:[function(t,e,r){function n(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,t[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,t[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,t[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,t}e.exports=n},{}],76:[function(t,e,r){function n(t){var e=s.indexOf(t);return-1!==e?e:0===t.indexOf(u)?3|parseInt(t.substring(u.length),10):void 0}function i(t){t.location=n(t.name)}var o=t(47),a=t(20),s=["position","normal","color"],u="texcoord";e.exports=function(t){return function(e){var r=a(t);return r.attributes.forEach(i),o(e,r.vertex,r.fragment,r.uniforms,r.attributes)}}},{20:20,47:47}],77:[function(t,e,r){function n(t,e){if(!(this instanceof n))return new n(t,e);i.call(this,t),e=e||{},this.gl=t;var r=e.shader;r||(this.defaultShader=a(t)),this.shader=r||this.defaultShader;var o=s(u());this.style({aspect:t.canvas.width/t.canvas.height,smoothing:[-.4,.8],noiseAlpha:.04,coloredNoise:!0,offset:[0,0],color1:[1,1,1],color2:[0,0,0],scale:[1,1],projection:o,view:o,model:o}),e&&this.style(e)}var i=(t(78),t(41)),o=t(91),a=t(76)(t(79)("\n#define GLSLIFY 1\n\nattribute vec4 position;\nattribute vec2 uv;\nuniform mat4 projection;\nuniform mat4 view;\nuniform mat4 model;\nvarying vec2 vUv;\nvoid main() {\n  gl_Position = projection * view * model * position;\n  vUv = uv;\n}","\n#define GLSLIFY 1\n\n#ifdef GL_ES\n\nprecision mediump float;\n#endif\n\nvarying vec2 vUv;\nhighp float a_x_random(vec2 co) {\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float dt = dot(co.xy, vec2(a, b));\n  highp float sn = mod(dt, 3.14);\n  return fract(sin(sn) * c);\n}\nuniform float aspect;\nuniform vec2 scale;\nuniform vec2 offset;\nuniform bool coloredNoise;\nuniform vec2 smoothing;\nuniform float noiseAlpha;\nuniform vec3 color1;\nuniform vec3 color2;\nvec3 BlendOverlay(vec3 base, vec3 blend) {\n  return vec3(base.r < 0.5 ? (2.0 * base.r * blend.r) : (1.0 - 2.0 * (1.0 - base.r) * (1.0 - blend.r)), base.g < 0.5 ? (2.0 * base.g * blend.g) : (1.0 - 2.0 * (1.0 - base.g) * (1.0 - blend.g)), base.b < 0.5 ? (2.0 * base.b * blend.b) : (1.0 - 2.0 * (1.0 - base.b) * (1.0 - blend.b)));\n}\nvoid main() {\n  vec2 pos = vUv;\n  pos -= 0.5;\n  pos.x *= aspect;\n  pos /= scale;\n  pos -= offset;\n  float dist = length(pos);\n  dist = smoothstep(smoothing.x, smoothing.y, 1. - dist);\n  vec4 color = vec4(1.0);\n  color.rgb = mix(color2, color1, dist);\n  if(noiseAlpha > 0.0) {\n    vec3 noise = coloredNoise ? vec3(a_x_random(vUv * 1.5), a_x_random(vUv * 2.5), a_x_random(vUv)) : vec3(a_x_random(vUv));\n    color.rgb = mix(color.rgb, BlendOverlay(color.rgb, noise), noiseAlpha);\n  }\n  gl_FragColor = color;\n}",[{name:"projection",type:"mat4"},{name:"view",type:"mat4"},{name:"model",type:"mat4"},{name:"aspect",type:"float"},{name:"scale",type:"vec2"},{name:"offset",type:"vec2"},{name:"coloredNoise",type:"bool"},{name:"smoothing",type:"vec2"},{name:"noiseAlpha",type:"float"},{name:"color1",type:"vec3"},{name:"color2",type:"vec3"}],[{name:"position",type:"vec4"},{name:"uv",type:"vec2"}])),s=t(36),u=t(35);o(n,i),n.prototype.style=function(t){if(t){this.shader.bind();var e=this.shader.uniforms;for(var r in t)t.hasOwnProperty(r)&&(t[r]||"number"==typeof t[r])&&(e[r]=t[r])}},n.prototype.draw=function(){i.prototype.draw.call(this,this.shader)},n.prototype.dispose=function(){this.defaultShader&&(this.defaultShader.dispose(),this.defaultShader=void 0),i.prototype.dispose.call(this)},e.exports=n},{35:35,36:36,41:41,76:76,78:78,79:79,91:91}],78:[function(t,e,r){function n(){throw new Error("You should bundle your code using `glslify` as a transform.")}e.exports=n},{}],79:[function(t,e,r){function n(t,e,r,n){return{vertex:t,fragment:e,uniforms:r,attributes:n}}e.exports=n},{}],80:[function(t,e,r){function n(t){for(var e=Array.isArray(t)?t:i(t),r=0;r<e.length;r++){var n=e[r];if("preprocessor"===n.type){var a=n.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(a&&a[2]){var s=a[1],u=a[2];return(s?o(u):u).trim()}}}}var i=t(87),o=t(5);e.exports=n},{5:5,87:87}],81:[function(t,e,r){function n(t){function e(t){t.length&&X.push({type:w[V],data:t,position:H,line:z,column:G})}function r(t){F=0,t.toString&&(t=t.toString()),W+=t.replace(/\r\n/g,"\n"),B=W.length;for(var e;O=W[F],F<B;){switch(e=F,V){case l:F=S();break;case h:F=I();break;case p:F=R();break;case d:F=N();break;case g:F=P();break;case A:F=L();break;case v:F=C();break;case f:F=M();break;case E:F=x();break;case c:F=T()}if(e!==F)switch(W[e]){case"\n":G=0,++z;break;default:++G}}return j+=F,W=W.slice(F),X}function n(t){return k.length&&e(k.join("")),V=b,e("(eof)"),X}function T(){return k=k.length?[]:k,"/"===D&&"*"===O?(H=j+F-1,V=l,D=O,F+1):"/"===D&&"/"===O?(H=j+F-1,V=h,D=O,F+1):"#"===O?(V=p,H=j+F,F):/\s/.test(O)?(V=E,H=j+F,F):(Y=/\d/.test(O),q=/[^\w_]/.test(O),H=j+F,V=Y?g:q?d:f,F)}function x(){return/[^\s]/g.test(O)?(e(k.join("")),V=c,F):(k.push(O),D=O,F+1)}function R(){return"\r"!==O&&"\n"!==O||"\\"===D?(k.push(O),D=O,F+1):(e(k.join("")),V=c,F)}function I(){return R()}function S(){return"/"===O&&"*"===D?(k.push(O),e(k.join("")),V=c,F+1):(k.push(O),D=O,F+1)}function N(){if("."===D&&/\d/.test(O))return V=v,F;if("/"===D&&"*"===O)return V=l,F;if("/"===D&&"/"===O)return V=h,F;if("."===O&&k.length){for(;U(k););return V=v,F}if(";"===O||")"===O||"("===O){if(k.length)for(;U(k););return e(O),V=c,F+1}var t=2===k.length&&"="!==O;if(/[\w_\d\s]/.test(O)||t){for(;U(k););return V=c,F}
return k.push(O),D=O,F+1}function U(t){for(var r,n,i=0;;){if(r=o.indexOf(t.slice(0,t.length+i).join("")),n=o[r],-1===r){if(i--+t.length>0)continue;n=t.slice(0,1).join("")}return e(n),H+=n.length,k=k.slice(n.length),k.length}}function L(){return/[^a-fA-F0-9]/.test(O)?(e(k.join("")),V=c,F):(k.push(O),D=O,F+1)}function P(){return"."===O?(k.push(O),V=v,D=O,F+1):/[eE]/.test(O)?(k.push(O),V=v,D=O,F+1):"x"===O&&1===k.length&&"0"===k[0]?(V=A,k.push(O),D=O,F+1):/[^\d]/.test(O)?(e(k.join("")),V=c,F):(k.push(O),D=O,F+1)}function C(){return"f"===O&&(k.push(O),D=O,F+=1),/[eE]/.test(O)?(k.push(O),D=O,F+1):("-"!==O&&"+"!==O||!/[eE]/.test(D))&&/[^\d]/.test(O)?(e(k.join("")),V=c,F):(k.push(O),D=O,F+1)}function M(){if(/[^\d\w_]/.test(O)){var t=k.join("");return V=Q[t]?m:J[t]?y:_,e(k.join("")),V=c,F}return k.push(O),D=O,F+1}var O,D,B,F=0,j=0,V=c,k=[],X=[],z=1,G=0,H=0,Y=!1,q=!1,W="";t=t||{};var Z=a,K=i;"300 es"===t.version&&(Z=u,K=s);for(var J={},Q={},F=0;F<Z.length;F++)J[Z[F]]=!0;for(var F=0;F<K.length;F++)Q[K[F]]=!0;return function(t){return X=[],null!==t?r(t):n()}}e.exports=n;var i=t(85),o=t(86),a=t(83),s=t(84),u=t(82),c=999,f=9999,l=0,h=1,p=2,d=3,g=4,v=5,_=6,y=7,m=8,E=9,b=10,A=11,w=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},{82:82,83:83,84:84,85:85,86:86}],82:[function(t,e,r){var n=t(83);n=n.slice().filter(function(t){return!/^(gl\_|texture)/.test(t)}),e.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},{83:83}],83:[function(t,e,r){e.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},{}],84:[function(t,e,r){var n=t(85);e.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},{85:85}],85:[function(t,e,r){e.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},{}],86:[function(t,e,r){e.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},{}],87:[function(t,e,r){function n(t,e){var r=i(e),n=[];return n=n.concat(r(t)),n=n.concat(r(null))}var i=t(81);e.exports=n},{81:81}],88:[function(t,e,r){function n(t){return'<link href="'+o(t)+'" rel="stylesheet" type="text/css">'}function i(t){var e=o(t),r=document.createElement("link");return r.setAttribute("href",e),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r}function o(t){return"http://fonts.googleapis.com/css?family="+Object.keys(t).map(function(e){var r=t[e];return e=e.replace(/\s+/,"+"),"boolean"==typeof r?e:e+":"+s(r).join(",")}).join("|")}function a(t){var e=i(t);return document.head.appendChild(e),e}function s(t){return Array.isArray(t)?t:[t]}e.exports=n,e.exports.add=a},{}],89:[function(t,e,r){"use strict";e.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");t=t.replace(/^#/,""),3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16);return[e>>16,e>>8&255,255&e]}},{}],90:[function(t,e,r){r.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,p=t[e+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=s;f>0;o=256*o+t[e+l],l+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+t[e+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},r.write=function(t,e,r,n,i,o){var a,s,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+l>=1?h/u:h*Math.pow(2,1-l),e*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(e*u-1)*Math.pow(2,i),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;t[r+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[r+p]=255&a,p+=d,a/=256,c-=8);t[r+p-d]|=128*g}},{}],91:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},{}],92:[function(t,e,r){var n={};e.exports=function(t,e){if(!n[t]){n[t]=!0;var r=document.createElement("style");r.setAttribute("type","text/css"),"textContent"in r?r.textContent=t:r.styleSheet.cssText=t;var i=document.getElementsByTagName("head")[0];e&&e.prepend?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}},{}],93:[function(t,e,r){"use strict";function n(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=r;return e}e.exports=n},{}],94:[function(t,e,r){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function i(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}e.exports=function(t){return null!=t&&(n(t)||i(t)||!!t._isBuffer)}},{}],95:[function(t,e,r){function n(t,e,r){return t*(1-r)+e*r}e.exports=n},{}],96:[function(t,e,r){function n(t,e,r){e=e||t.currentTarget||t.srcElement,Array.isArray(r)||(r=[0,0]);var n=t.clientX||0,o=t.clientY||0,a=i(e);return r[0]=n-a.left,r[1]=o-a.top,r}function i(t){return t===window||t===document||t===document.body?o:t.getBoundingClientRect()}var o={left:0,top:0};e.exports=n},{}],97:[function(t,e,r){"use strict";function n(t,e,r){"function"==typeof t&&(r=!!e,e=t,t=window);var n=i("ex",t),o=function(t){r&&t.preventDefault();var i=t.deltaX||0,o=t.deltaY||0,a=t.deltaZ||0,s=t.deltaMode,u=1;switch(s){case 1:u=n;break;case 2:u=window.innerHeight}if(i*=u,o*=u,a*=u,i||o||a)return e(i,o,a,t)};return t.addEventListener("wheel",o),o}var i=t(123);e.exports=n},{123:123}],98:[function(t,e,r){"use strict";function n(t){if(!t)return s;for(var e=0;e<t.args.length;++e){var r=t.args[e];t.args[e]=0===e?{name:r,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:r,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function i(t){return a({args:t.args,pre:n(t.pre),body:n(t.body),post:n(t.proc),funcName:t.funcName})}function o(t){for(var e=[],r=0;r<t.args.length;++r)e.push("a"+r);return new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""))(i(t))}var a=t(17),s={body:"",args:[],thisVars:[],localVars:[]},u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in u){var e=u[t];r[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),r[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+e+"=b"},rvalue:!0,funcName:t+"eq"}),r[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),r[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+e+"=s"},rvalue:!0,funcName:t+"seq"})}}();var c={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in c){var e=c[t];r[t]=o({args:["array","array"],body:{args:["a","b"],body:"a="+e+"b"},funcName:t}),r[t+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+e+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var f={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in f){var e=f[t];r[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),r[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),r[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+e+"b"},rvalue:!0,count:2,funcName:t+"eq"}),r[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+e+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var l=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<l.length;++t){var e=l[t];r[e]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:e}),r[e+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"})}}();var h=["max","min","atan2","pow"];!function(){for(var t=0;t<h.length;++t){var e=h[t];r[e]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e}),r[e+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e+"s"}),r[e+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"}),r[e+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"seq"})}}();var p=["atan2","pow"];!function(){for(var t=0;t<p.length;++t){var e=p[t];r[e+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"op"}),r[e+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"ops"}),r[e+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opeq"}),r[e+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opseq"})}}(),r.any=a({args:["array"],pre:s,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),r.all=a({args:["array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),r.sum=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),r.prod=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),r.norm2squared=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),r.norm2=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),r.norminf=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),r.norm1=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),r.sup=a({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.inf=a({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.argmin=a({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.argmax=a({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),r.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),r.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),r.equals=a({args:["array","array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{17:17}],99:[function(t,e,r){function n(t,e){return t[0]-e[0]}function i(){var t,e=this.stride,r=new Array(e.length);for(t=0;t<r.length;++t)r[t]=[Math.abs(e[t]),t];r.sort(n);var i=new Array(r.length);for(t=0;t<i.length;++t)i[t]=r[t][1];return i}function o(t,e){var r=["View",e,"d",t].join("");e<0&&(r="View_Nil"+t);var n="generic"===t;if(-1===e){var o="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",a=new Function(o);return a()}if(0===e){var o="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",a=new Function("TrivialArray",o);return a(l[t][0])}var o=["'use strict'"],s=u(e),c=s.map(function(t){return"i"+t}),f="this.offset+"+s.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),h=s.map(function(t){return"b"+t}).join(","),p=s.map(function(t){return"c"+t}).join(",");o.push("function "+r+"(a,"+h+","+p+",d){this.data=a","this.shape=["+h+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),o.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+s.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===e?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),e<4?(o.push("function "+r+"_order(){"),2===e?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+r+"_set("+c.join(",")+",v){"),n?o.push("return this.data.set("+f+",v)}"):o.push("return this.data["+f+"]=v}"),o.push("proto.get=function "+r+"_get("+c.join(",")+"){"),n?o.push("return this.data.get("+f+")}"):o.push("return this.data["+f+"]}"),o.push("proto.index=function "+r+"_index(",c.join(),"){return "+f+"}"),o.push("proto.hi=function "+r+"_hi("+c.join(",")+"){return new "+r+"(this.data,"+s.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+s.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var d=s.map(function(t){return"a"+t+"=this.shape["+t+"]"}),g=s.map(function(t){return"c"+t+"=this.stride["+t+"]"});o.push("proto.lo=function "+r+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+g.join(","));for(var v=0;v<e;++v)o.push("if(typeof i"+v+"==='number'&&i"+v+">=0){d=i"+v+"|0;b+=c"+v+"*d;a"+v+"-=d}");o.push("return new "+r+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"c"+t}).join(",")+",b)}"),o.push("proto.step=function "+r+"_step("+c.join(",")+"){var "+s.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+s.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var v=0;v<e;++v)o.push("if(typeof i"+v+"==='number'){d=i"+v+"|0;if(d<0){c+=b"+v+"*(a"+v+"-1);a"+v+"=ceil(-a"+v+"/d)}else{a"+v+"=ceil(a"+v+"/d)}b"+v+"*=d}");o.push("return new "+r+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"b"+t}).join(",")+",c)}");for(var _=new Array(e),y=new Array(e),v=0;v<e;++v)_[v]="a[i"+v+"]",y[v]="b[i"+v+"]";o.push("proto.transpose=function "+r+"_transpose("+c+"){"+c.map(function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+_.join(",")+","+y.join(",")+",this.offset)}"),o.push("proto.pick=function "+r+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var v=0;v<e;++v)o.push("if(typeof i"+v+"==='number'&&i"+v+">=0){c=(c+this.stride["+v+"]*i"+v+")|0}else{a.push(this.shape["+v+"]);b.push(this.stride["+v+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+s.map(function(t){return"shape["+t+"]"}).join(",")+","+s.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");var a=new Function("CTOR_LIST","ORDER",o.join("\n"));return a(l[t],i)}function a(t){if(c(t))return"buffer";if(f)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}function s(t,e,r,n){if(void 0===t){var i=l.array[0];return i([])}"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var s=e.length;if(void 0===r){r=new Array(s);for(var u=s-1,c=1;u>=0;--u)r[u]=c,c*=e[u]}if(void 0===n){n=0;for(var u=0;u<s;++u)r[u]<0&&(n-=(e[u]-1)*r[u])}for(var f=a(t),h=l[f];h.length<=s+1;)h.push(o(f,h.length-1));var i=h[s+1];return i(t,e,r,n)}var u=t(93),c=t(94),f="undefined"!=typeof Float64Array,l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};e.exports=s},{93:93,94:94}],100:[function(t,e,r){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,s,u=n(t),c=1;c<arguments.length;c++){r=Object(arguments[c]);for(var f in r)o.call(r,f)&&(u[f]=r[f]);if(i){s=i(r);for(var l=0;l<s.length;l++)a.call(r,s[l])&&(u[s[l]]=r[s[l]])}}return u}},{}],101:[function(t,e,r){function n(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function i(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}var o=t(135);e.exports=o(n),e.exports.strict=o(i),n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})})},{135:135}],102:[function(t,e,r){function n(t){function e(t,e){var r=2*Math.PI;d[0]-=r*t*y.rotateSpeed,d[1]-=r*e*y.rotateSpeed}function r(t){d[2]+=t*y.zoomSpeed}function n(t){d[2]-=t*y.pinchSpeed}function p(t,e,r){var n=r||l;u(v,n,l),c(_,v);var o=y.distance;f.subtract(g,t,y.target),f.transformQuat(g,g,v);var s=Math.atan2(g[0],g[2]),p=Math.atan2(Math.sqrt(g[0]*g[0]+g[2]*g[2]),g[1]);s+=d[0],p+=d[1],s=a(s,y.thetaBounds[0],y.thetaBounds[1]),p=a(p,y.phiBounds[0],y.phiBounds[1]),p=a(p,h,Math.PI-h),o+=d[2],o=a(o,y.distanceBounds[0],y.distanceBounds[1]);var m=Math.abs(o)<=h?h:o;g[0]=m*Math.sin(p)*Math.sin(s),g[1]=m*Math.cos(p),g[2]=m*Math.sin(p)*Math.cos(s),y.phi=p,y.theta=s,y.distance=o,f.transformQuat(g,g,_),f.add(t,y.target,g),i(e,n,t,y.target);for(var E="number"==typeof y.damping?y.damping:1,b=0;b<d.length;b++)d[b]*=1-E}t=t||{};var d=[0,0,0],g=[0,0,0],v=[0,0,0,1],_=v.slice(),y={update:p,target:t.target||[0,0,0],phi:t.phi||0,theta:t.theta||0,distance:o(t.distance,1),damping:o(t.damping,.25),rotateSpeed:o(t.rotateSpeed,.28),zoomSpeed:o(t.zoomSpeed,.0075),pinchSpeed:o(t.pinchSpeed,.0075),pinch:!1!==t.pinching,zoom:!1!==t.zoom,rotate:!1!==t.rotate,phiBounds:t.phiBounds||[0,Math.PI],thetaBounds:t.thetaBounds||[-1/0,1/0],distanceBounds:t.distanceBounds||[1,1/0]};return s({parent:t.parent||window,element:t.element,rotate:!1!==t.rotate?e:null,zoom:!1!==t.zoom?r:null,pinch:!1!==t.pinch?n:null}),y}function i(t,e,r,n){f.copy(t,n),f.subtract(t,t,r),f.normalize(t,t)}var o=t(22),a=t(16),s=t(103),u=t(112),c=t(42),f={length:t(65),add:t(61),subtract:t(71),transformQuat:t(72),copy:t(62),normalize:t(66),cross:t(63)},l=[0,1,0],h=1e-10;e.exports=n},{103:103,112:112,16:16,22:22,42:42,61:61,62:62,63:63,65:65,66:66,71:71,72:72}],103:[function(t,e,r){function n(t){function e(t){t.preventDefault()}function r(){return l.pinching&&E}function n(t){o(t,h,d),c(d)&&(g=!0)}function s(){g=!1}function u(t){var e=o(t,h,v);if(l&&r())return void(d=e);if(g){var n=f(_),i=(e[0]-d[0])/n[0],a=(e[1]-d[1])/n[1];m(i,a),d[0]=e[0],d[1]=e[1]}}function c(t){if(h===window||h===document||h===document.body)return!0;var e=h.getBoundingClientRect();return t[0]>=0&&t[1]>=0&&t[0]<e.width&&t[1]<e.height}function f(t){var e=h;return e!==window&&e!==document&&e!==document.body||(e=document.documentElement),t[0]=e.clientWidth,t[1]=e.clientHeight,t}var l,h=t.element||window,p=t.parent||h,d=[0,0],g=!1,v=[0,0],_=[0,0],y=t.zoom,m=t.rotate,E=t.pinch;y&&i(h,function(t,e){y(e)},!0),m&&(p.addEventListener("mousedown",n),p.addEventListener("mousemove",u),p.addEventListener("mouseup",s)),(m||E)&&(l=a(h),h.addEventListener("touchstart",e),m&&function(){h.addEventListener("touchmove",function(t){if(g&&!r())for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],i=l.indexOfTouch(n),o=E?-1!==i:0===i;if(o){u(n);break}}}),l.on("place",function(t,e){(g=!r())&&n(e||t)}),l.on("lift",function(t,e){(g=!r())&&e&&o(e,h,d)})}(),E&&function(){l.on("change",function(t,e){E(t-e)})}())}var i=t(97),o=t(96),a=t(124);e.exports=n},{124:124,96:96,97:97}],104:[function(t,e,r){e.exports=function(t,e){e||(e=[0,""]),t=String(t);var r=parseFloat(t,10);return e[0]=r,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},{}],105:[function(t,e,r){(function(t){(function(){(function(){var r,n,i,o,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(r()-a)/1e6},n=t.hrtime,r=function(){var t;return t=n(),1e9*t[0]+t[1]},o=r(),s=1e9*t.uptime(),a=o-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this)}).call(this,t(111))},{111:111}],106:[function(t,e,r){e.exports=t(109)},{109:109}],107:[function(t,e,r){var n=t(110),i=t(115),o=t(11),a=t(12),s=t(108),u=t(10),c=t(61),f=t(39),l=t(37),h=t(36),p=t(69);e.exports=function(t){function e(){if(f(m.projView,m.projection,m.view),
!l(m.invProjView,m.projView))throw new Error("camera projection * view is non-invertible")}function r(t){return s(m.direction,m.up,m.position,t),m}function d(){return p(m.position,0,0,0),p(m.direction,0,0,-1),p(m.up,0,1,0),h(m.view),h(m.projection),h(m.projView),h(m.invProjView),m}function g(t){return c(m.position,m.position,t),m}function v(t){var e=new i;return u(e.origin,e.direction,t,m.viewport,m.invProjView),e}function _(t){return o([],t,m.viewport,m.projView)}function y(t){return a([],t,m.viewport,m.invProjView)}t=t||{};var m={projection:h([]),view:h([]),position:t.position||[0,0,0],direction:t.direction||[0,0,-1],up:t.up||[0,1,0],viewport:t.viewport||[-1,-1,1,1],projView:h([]),invProjView:h([])};return n(m,{translate:g,identity:d,lookAt:r,createPickingRay:v,update:e,project:_,unproject:y})}},{10:10,108:108,11:11,110:110,115:115,12:12,36:36,37:37,39:39,61:61,69:69}],108:[function(t,e,r){var n=t(63),i=t(71),o=t(66),a=t(62),s=t(64),u=t(67),c=[0,0,0];e.exports=function(t,e,r,f){if(i(c,f,r),o(c,c),!(0===c[0]&&0===c[1]&&0===c[2])){var l=s(c,e);Math.abs(l-1)<1e-9?u(e,t,-1):Math.abs(l+1)<1e-9&&a(e,t),a(t,c),n(c,t,e),o(c,c),n(e,c,t),o(e,e)}}},{62:62,63:63,64:64,66:66,67:67,71:71}],109:[function(t,e,r){var n=t(107),i=t(110),o=t(22),a=t(40),s=t(38),u=t(61);e.exports=function(t){function e(){var t=r.viewport[2]/r.viewport[3];return a(r.projection,r.fov,t,Math.abs(r.near),Math.abs(r.far)),u(c,r.position,r.direction),s(r.view,r.position,c,r.up),f(),r}t=t||{};var r=n(t);r.fov=o(t.fov,Math.PI/4),r.near=o(t.near,1),r.far=o(t.far,100);var c=[0,0,0],f=r.update;return e(),i(r,{update:e})}},{107:107,110:110,22:22,38:38,40:40,61:61}],110:[function(t,e,r){"use strict";function n(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}e.exports=Object.assign||function(t,e){for(var r,i,o=n(t),a=1;a<arguments.length;a++){r=arguments[a],i=Object.keys(Object(r));for(var s=0;s<i.length;s++)o[i[s]]=r[i[s]]}return o}},{}],111:[function(t,e,r){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){v&&d&&(v=!1,d.length?g=d.concat(g):_=-1,g.length&&u())}function u(){if(!v){var t=o(s);v=!0;for(var e=g.length;e;){for(d=g,g=[];++_<e;)d&&d[_].run();_=-1,e=g.length}d=null,v=!1,a(t)}}function c(t,e){this.fun=t,this.array=e}function f(){}var l,h,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var d,g=[],v=!1,_=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];g.push(new c(t,e)),1!==g.length||v||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=f,p.addListener=f,p.once=f,p.off=f,p.removeListener=f,p.removeAllListeners=f,p.emit=f,p.prependListener=f,p.prependOnceListener=f,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],112:[function(t,e,r){function n(t,e,r){var n=i(e,r)+1;return n<c?(n=0,Math.abs(e[0])>Math.abs(e[2])?o(u,-e[1],e[0],0):o(u,0,-e[2],e[1])):s(u,e,r),t[0]=u[0],t[1]=u[1],t[2]=u[2],t[3]=n,a(t,t),t}var i=t(64),o=t(69),a=t(43),s=t(63),u=[0,0,0],c=1e-6;e.exports=n},{43:43,63:63,64:64,69:69}],113:[function(t,e,r){function n(t){if(!(this instanceof n))return new n(t);this.running=!1,this.last=a(),this._frame=0,this._tick=this.tick.bind(this),t&&this.on("tick",t)}var i=t(91),o=t(28).EventEmitter,a=t(121),s=t(114);e.exports=n,i(n,o),n.prototype.start=function(){if(!this.running)return this.running=!0,this.last=a(),this._frame=s(this._tick),this},n.prototype.stop=function(){return this.running=!1,0!==this._frame&&s.cancel(this._frame),this._frame=0,this},n.prototype.tick=function(){this._frame=s(this._tick);var t=a(),e=t-this.last;this.emit("tick",e),this.last=t}},{114:114,121:121,28:28,91:91}],114:[function(t,e,r){(function(r){(function(){for(var n=t(105),i="undefined"==typeof window?r:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],u=i["cancel"+a]||i["cancelRequest"+a],c=0;!s&&c<o.length;c++)s=i[o[c]+"Request"+a],u=i[o[c]+"Cancel"+a]||i[o[c]+"CancelRequest"+a];if(!s||!u){var f=0,l=0,h=[];s=function(t){if(0===h.length){var e=n(),r=Math.max(0,1e3/60-(e-f));f=r+e,setTimeout(function(){var t=h.slice(0);h.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(f)}catch(t){setTimeout(function(){throw t},0)}},Math.round(r))}return h.push({handle:++l,callback:t,cancelled:!1}),l},u=function(t){for(var e=0;e<h.length;e++)h[e].handle===t&&(h[e].cancelled=!0)}}e.exports=function(t){return s.call(i,t)},e.exports.cancel=function(){u.apply(i,arguments)},e.exports.polyfill=function(t){t||(t=i),t.requestAnimationFrame=s,t.cancelAnimationFrame=u}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{105:105}],115:[function(t,e,r){function n(t,e){this.origin=t||[0,0,0],this.direction=e||[0,0,-1]}var i=t(119),o=t(117),a=t(118),s=t(116),u=t(62),c=[[0,0,0],[0,0,0],[0,0,0]],f=[0,0,0];e.exports=n,n.prototype.set=function(t,e){this.origin=t,this.direction=e},n.prototype.copy=function(t){u(this.origin,t.origin),u(this.direction,t.direction)},n.prototype.clone=function(){var t=new n;return t.copy(this),t},n.prototype.intersectsSphere=function(t,e){return a(f,this.origin,this.direction,t,e)},n.prototype.intersectsPlane=function(t,e){return o(f,this.origin,this.direction,t,e)},n.prototype.intersectsTriangle=function(t){return i(f,this.origin,this.direction,t)},n.prototype.intersectsBox=function(t){return s(f,this.origin,this.direction,t)},n.prototype.intersectsTriangleCell=function(t,e){var r=t[0],n=t[1],i=t[2];return c[0]=e[r],c[1]=e[n],c[2]=e[i],this.intersectsTriangle(c)}},{116:116,117:117,118:118,119:119,62:62}],116:[function(t,e,r){function n(t,e,r,n){var o=i(e,r,n);if(o===1/0)t=null;else{t=t||[];for(var a=0;a<e.length;a++)t[a]=e[a]+r[a]*o}return t}function i(t,e,r){for(var n=t.length,i=-1/0,o=1/0,a=0;a<n;a++){var s=(r[0][a]-t[a])/e[a],u=(r[1][a]-t[a])/e[a];if(s>u){var c=s;s=u,u=c}if(u<i||s>o)return 1/0;s>i&&(i=s),u<o&&(o=u)}return i>o?1/0:i}e.exports=n,e.exports.distance=i},{}],117:[function(t,e,r){function n(t,e,r,n,c){var f=i(r,n);if(0!==f){var l=-(i(e,n)+c)/f;return l<0?null:(a(u,r,l),o(t,e,u))}return i(n,e)+c===0?s(t,e):null}var i=t(64),o=t(61),a=t(67),s=t(62);e.exports=n;var u=[0,0,0]},{61:61,62:62,64:64,67:67}],118:[function(t,e,r){function n(t,e,r,n,l){a(f,n,e);var h=o(r,f);if(h<0)return null;s(f,e,r,h);var p=i(n,f),d=l*l;return p>d?null:(u(t,r,h-Math.sqrt(d-p)),c(t,t,e))}var i=t(70),o=t(64),a=t(71),s=t(68),u=t(67),c=t(61),f=[0,0,0];e.exports=n},{61:61,64:64,67:67,68:68,70:70,71:71}],119:[function(t,e,r){function n(t,e,r,n){a(u,n[1],n[0]),a(c,n[2],n[0]),i(l,r,c);var p=o(u,l);if(p<s)return null;a(f,e,n[0]);var d=o(f,l);if(d<0||d>p)return null;i(h,f,u);var g=o(r,h);if(g<0||d+g>p)return null;var v=o(c,h)/p;return t[0]=e[0]+v*r[0],t[1]=e[1]+v*r[1],t[2]=e[2]+v*r[2],t}var i=t(63),o=t(64),a=t(71),s=1e-6,u=[0,0,0],c=[0,0,0],f=[0,0,0],l=[0,0,0],h=[0,0,0];e.exports=n},{63:63,64:64,71:71}],120:[function(t,e,r){"use strict";function n(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var r=t.length*e;if(i!==t||void 0===i)i=t,o="";else if(o.length>=r)return o.substr(0,r);for(;r>o.length&&e>1;)1&e&&(o+=t),e>>=1,t+=t;return o+=t,o=o.substr(0,r)}var i,o="";e.exports=n},{}],121:[function(t,e,r){(function(t){(function(){e.exports=t.performance&&t.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],122:[function(t,e,r){!function(){"use strict";function t(t){return n(i(t),arguments)}function e(e,r){return t.apply(null,[e].concat(r||[]))}function n(e,r){var n,i,a,s,u,c,f,l,h,p=1,d=e.length,g="";for(i=0;i<d;i++)if("string"==typeof e[i])g+=e[i];else if("object"==typeof e[i]){if(s=e[i],s.keys)for(n=r[p],a=0;a<s.keys.length;a++){if(void 0==n)throw new Error(t('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[a],s.keys[a-1]));n=n[s.keys[a]]}else n=s.param_no?r[s.param_no]:r[p++];if(o.not_type.test(s.type)&&o.not_primitive.test(s.type)&&n instanceof Function&&(n=n()),o.numeric_arg.test(s.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(t("[sprintf] expecting number but found %T",n));switch(o.number.test(s.type)&&(l=n>=0),s.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,s.width?parseInt(s.width):0);break;case"e":n=s.precision?parseFloat(n).toExponential(s.precision):parseFloat(n).toExponential();break;case"f":n=s.precision?parseFloat(n).toFixed(s.precision):parseFloat(n);break;case"g":n=s.precision?String(Number(n.toPrecision(s.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=s.precision?n.substring(0,s.precision):n;break;case"t":n=String(!!n),n=s.precision?n.substring(0,s.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=s.precision?n.substring(0,s.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=s.precision?n.substring(0,s.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}o.json.test(s.type)?g+=n:(!o.number.test(s.type)||l&&!s.sign?h="":(h=l?"+":"-",n=n.toString().replace(o.sign,"")),c=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",f=s.width-(h+n).length,u=s.width&&f>0?c.repeat(f):"",g+=s.align?h+n+u:"0"===c?h+u+n:u+h+n)}return g}function i(t){if(a[t])return a[t];for(var e,r=t,n=[],i=0;r;){if(null!==(e=o.text.exec(r)))n.push(e[0]);else if(null!==(e=o.modulo.exec(r)))n.push("%");else{if(null===(e=o.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){i|=1;var s=[],u=e[2],c=[];if(null===(c=o.key.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(c[1]);""!==(u=u.substring(c[0].length));)if(null!==(c=o.key_access.exec(u)))s.push(c[1]);else{if(null===(c=o.index_access.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(c[1])}e[2]=s}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}r=r.substring(e[0].length)}return a[t]=n}var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/},a=Object.create(null);void 0!==r&&(r.sprintf=t,r.vsprintf=e),"undefined"!=typeof window&&(window.sprintf=t,window.vsprintf=e,"function"==typeof define&&define.amd&&define(function(){return{sprintf:t,vsprintf:e}}))}()},{}],123:[function(t,e,r){"use strict";function n(t,e){var r=a(getComputedStyle(t).getPropertyValue(e));return r[0]*o(r[1],t)}function i(t,e){var r=document.createElement("div");r.style.height="128"+t,e.appendChild(r);var i=n(r,"height")/128;return e.removeChild(r),i}function o(t,e){if(!t)return null;switch(e=e||document.body,t=(t+""||"px").trim().toLowerCase(),e!==window&&e!==document||(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return i(t,e);case"em":return n(e,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return s;case"cm":return s/2.54;case"mm":return s/25.4;case"pt":return s/72;case"pc":return s/6;case"px":return 1}var r=a(t);if(!isNaN(r[0])&&r[1]){var u=o(r[1],e);return"number"==typeof u?r[0]*u:null}return null}var a=t(104);e.exports=o;var s=i("in",document.body)},{104:104}],124:[function(t,e,r){function n(t){function e(t){for(var e=t.identifier,r=0;r<d.length;r++)if(d[r]&&d[r].touch&&d[r].touch.identifier===e)return r;return-1}function r(){y||(y=!0,t.addEventListener("touchstart",c,!1),t.addEventListener("touchmove",f,!1),t.addEventListener("touchend",l,!1),t.addEventListener("touchcancel",l,!1))}function n(){y&&(y=!1,g=0,d[0]=null,d[1]=null,v=0,_=!1,t.removeEventListener("touchstart",c,!1),t.removeEventListener("touchmove",f,!1),t.removeEventListener("touchend",l,!1),t.removeEventListener("touchcancel",l,!1))}function c(r){for(var n=0;n<r.changedTouches.length;n++){var o=r.changedTouches[n];if(-1===e(o.identifier)&&g<2){var a=0===g,s=d[0]?1:0,c=d[0]?0:1,f=new i;d[s]=f,g++,f.touch=o,u(o,t,f.position);var l=d[c]?d[c].touch:void 0;if(p.emit("place",o,l),!a){var y=h();_=!1,p.emit("start",y),v=y}}}}function f(r){for(var n=!1,i=0;i<r.changedTouches.length;i++){var o=r.changedTouches[i],a=e(o);-1!==a&&(n=!0,d[a].touch=o,u(o,t,d[a].position))}if(2===g&&n){var s=h();p.emit("change",s,v),v=s}}function l(t){for(var r=0;r<t.changedTouches.length;r++){var n=t.changedTouches[r],i=e(n);if(-1!==i){d[i]=null,g--;var o=0===i?1:0,a=d[o]?d[o].touch:void 0;p.emit("lift",n,a)}}_||2===g||(_=!0,p.emit("end"))}function h(){return g<2?0:o(d[0].position,d[1].position)}t=t||window;var p=new a,d=[null,null],g=0,v=0,_=!1,y=!1;return Object.defineProperties(p,{pinching:s(function(){return 2===g}),fingers:s(function(){return d})}),r(),p.enable=r,p.disable=n,p.indexOfTouch=e,p}function i(){this.position=[0,0],this.touch=null}var o=t(60),a=t(28).EventEmitter,s=t(24),u=t(96);e.exports=n},{24:24,28:28,60:60,96:96}],125:[function(t,e,r){(function(e){(function(){"use strict";function n(t){if(t){var e=t.length||t.byteLength,r=m.log2(e);R[r].push(t)}}function i(t){n(t.buffer)}function o(t){var t=m.nextPow2(t),e=m.log2(t),r=R[e];return r.length>0?r.pop():new ArrayBuffer(t)}function a(t){return new Uint8Array(o(t),0,t)}function s(t){return new Uint16Array(o(2*t),0,t)}function u(t){return new Uint32Array(o(4*t),0,t)}function c(t){return new Int8Array(o(t),0,t)}function f(t){return new Int16Array(o(2*t),0,t)}function l(t){return new Int32Array(o(4*t),0,t)}function h(t){return new Float32Array(o(4*t),0,t)}function p(t){return new Float64Array(o(8*t),0,t)}function d(t){return A?new Uint8ClampedArray(o(t),0,t):a(t)}function g(t){return w?new BigUint64Array(o(8*t),0,t):null}function v(t){return T?new BigInt64Array(o(8*t),0,t):null}function _(t){return new DataView(o(t),0,t)}function y(t){t=m.nextPow2(t);var e=m.log2(t),r=I[e];return r.length>0?r.pop():new b(t)}var m=t(7),E=t(26),b=t(8).Buffer;e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:E([32,0]),UINT16:E([32,0]),UINT32:E([32,0]),BIGUINT64:E([32,0]),INT8:E([32,0]),INT16:E([32,0]),INT32:E([32,0]),BIGINT64:E([32,0]),FLOAT:E([32,0]),DOUBLE:E([32,0]),DATA:E([32,0]),UINT8C:E([32,0]),BUFFER:E([32,0])});var A="undefined"!=typeof Uint8ClampedArray,w="undefined"!=typeof BigUint64Array,T="undefined"!=typeof BigInt64Array,x=e.__TYPEDARRAY_POOL;x.UINT8C||(x.UINT8C=E([32,0])),x.BIGUINT64||(x.BIGUINT64=E([32,0])),x.BIGINT64||(x.BIGINT64=E([32,0])),x.BUFFER||(x.BUFFER=E([32,0]));var R=x.DATA,I=x.BUFFER;r.free=function(t){if(b.isBuffer(t))I[m.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,r=0|m.log2(e);R[r].push(t)}},r.freeUint8=r.freeUint16=r.freeUint32=r.freeBigUint64=r.freeInt8=r.freeInt16=r.freeInt32=r.freeBigInt64=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=i,r.freeArrayBuffer=n,r.freeBuffer=function(t){I[m.log2(t.length)].push(t)},r.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return o(t);switch(e){case"uint8":return a(t);case"uint16":return s(t);case"uint32":return u(t);case"int8":return c(t);case"int16":return f(t);case"int32":return l(t);case"float":case"float32":return h(t);case"double":case"float64":return p(t);case"uint8_clamped":return d(t);case"bigint64":return v(t);case"biguint64":return g(t);case"buffer":return y(t);case"data":case"dataview":return _(t);default:return null}return null},r.mallocArrayBuffer=o,r.mallocUint8=a,r.mallocUint16=s,r.mallocUint32=u,r.mallocInt8=c,r.mallocInt16=f,r.mallocInt32=l,r.mallocFloat32=r.mallocFloat=h,r.mallocFloat64=r.mallocDouble=p,r.mallocUint8Clamped=d,r.mallocBigUint64=g,r.mallocBigInt64=v,r.mallocDataView=_,r.mallocBuffer=y,r.clearCache=function(){for(var t=0;t<32;++t)x.UINT8[t].length=0,x.UINT16[t].length=0,x.UINT32[t].length=0,x.INT8[t].length=0,x.INT16[t].length=0,x.INT32[t].length=0,x.FLOAT[t].length=0,x.DOUBLE[t].length=0,x.BIGUINT64[t].length=0,x.BIGINT64[t].length=0,x.UINT8C[t].length=0,R[t].length=0,I[t].length=0}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{26:26,7:7,8:8}],126:[function(t,e,r){"use strict";function n(t,e){for(var r=1,n=t.length,i=t[0],o=t[0],a=1;a<n;++a)if(o=i,i=t[a],e(i,o)){if(a===r){r++;continue}t[r++]=i}return t.length=r,t}function i(t){for(var e=1,r=t.length,n=t[0],i=t[0],o=1;o<r;++o,i=n)if(i=n,(n=t[o])!==i){if(o===e){e++;continue}t[e++]=n}return t.length=e,t}function o(t,e,r){return 0===t.length?t:e?(r||t.sort(e),n(t,e)):(r||t.sort(),i(t))}e.exports=o},{}],127:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],128:[function(t,e,r){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],129:[function(t,e,r){(function(e,n){(function(){function i(t,e){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(e)?n.showHidden=e:e&&r._extend(n,e),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),u(n,t,n.depth)}function o(t,e){var r=i.styles[e];return r?"["+i.colors[r][0]+"m"+t+"["+i.colors[r][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}function u(t,e,n){if(t.customInspect&&e&&R(e.inspect)&&e.inspect!==r.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(n,t);return m(i)||(i=u(t,i,n)),i}var o=c(t,e);if(o)return o;var a=Object.keys(e),g=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),x(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(e);if(0===a.length){if(R(e)){var v=e.name?": "+e.name:"";return t.stylize("[Function"+v+"]","special")}if(A(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(T(e))return t.stylize(Date.prototype.toString.call(e),"date");if(x(e))return f(e)}var _="",y=!1,E=["{","}"];if(d(e)&&(y=!0,E=["[","]"]),R(e)){_=" [Function"+(e.name?": "+e.name:"")+"]"}if(A(e)&&(_=" "+RegExp.prototype.toString.call(e)),T(e)&&(_=" "+Date.prototype.toUTCString.call(e)),x(e)&&(_=" "+f(e)),0===a.length&&(!y||0==e.length))return E[0]+_+E[1];if(n<0)return A(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var b;return b=y?l(t,e,n,g,a):a.map(function(r){return h(t,e,n,g,r,y)}),t.seen.pop(),p(b,_,E)}function c(t,e){if(b(e))return t.stylize("undefined","undefined");if(m(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return y(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,r,n,i){for(var o=[],a=0,s=e.length;a<s;++a)L(e,String(a))?o.push(h(t,e,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,r,n,i,!0))}),o}function h(t,e,r,n,i,o){var a,s,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),L(n,i)||(a="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=v(r)?u(t,c.value,null):u(t,c.value,r-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),b(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t,e,r){var n=0;return t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function d(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function v(t){return null===t}function _(t){return null==t}function y(t){return"number"==typeof t}function m(t){return"string"==typeof t}function E(t){return"symbol"==typeof t}function b(t){return void 0===t}function A(t){return w(t)&&"[object RegExp]"===S(t)}function w(t){return"object"==typeof t&&null!==t}function T(t){return w(t)&&"[object Date]"===S(t)}function x(t){return w(t)&&("[object Error]"===S(t)||t instanceof Error)}function R(t){return"function"==typeof t}function I(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function S(t){return Object.prototype.toString.call(t)}function N(t){return t<10?"0"+t.toString(10):t.toString(10)}function U(){var t=new Date,e=[N(t.getHours()),N(t.getMinutes()),N(t.getSeconds())].join(":");return[t.getDate(),O[t.getMonth()],e].join(" ")}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var P=/%[sdj%]/g;r.format=function(t){if(!m(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(i(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,o=n.length,a=String(t).replace(P,function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}}),s=n[r];r<o;s=n[++r])v(s)||!w(s)?a+=" "+s:a+=" "+i(s);return a},r.deprecate=function(t,i){function o(){if(!a){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),a=!0}return t.apply(this,arguments)}if(b(n.process))return function(){return r.deprecate(t,i).apply(this,arguments)};if(!0===e.noDeprecation)return t;var a=!1;return o};var C,M={};r.debuglog=function(t){if(b(C)&&(C=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!M[t])if(new RegExp("\\b"+t+"\\b","i").test(C)){var n=e.pid;M[t]=function(){var e=r.format.apply(r,arguments);console.error("%s %d: %s",t,n,e)}}else M[t]=function(){};return M[t]},r.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=d,r.isBoolean=g,r.isNull=v,r.isNullOrUndefined=_,r.isNumber=y,r.isString=m,r.isSymbol=E,r.isUndefined=b,r.isRegExp=A,r.isObject=w,r.isDate=T,r.isError=x,r.isFunction=R,r.isPrimitive=I,r.isBuffer=t(128);var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",U(),r.format.apply(r,arguments))},r.inherits=t(127),r._extend=function(t,e){if(!e||!w(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(this)}).call(this,t(111),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{111:111,127:127,128:128}],130:[function(t,e,r){function n(){var t={};return function(e){if(("object"!=typeof e||null===e)&&"function"!=typeof e)throw new Error("Weakmap-shim: Key must be object");var r=e.valueOf(t);return r&&r.identity===t?r:i(e,t)}}var i=t(131);e.exports=n},{131:131}],131:[function(t,e,r){function n(t,e){var r={identity:e},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==e?n.apply(this,arguments):r},writable:!0}),r}e.exports=n},{}],132:[function(t,e,r){function n(){var t=i();return{get:function(e,r){var n=t(e);return n.hasOwnProperty("value")?n.value:r},set:function(e,r){return t(e).value=r,this},has:function(e){return"value"in t(e)},delete:function(e){return delete t(e).value}}}var i=t(130);e.exports=n},{130:130}],133:[function(t,e,r){function n(t,e,r){if(!(this instanceof n))return new n(t,e,r);if(e instanceof i||(r=e,e=null),r=r||{},this.ctx=e=e||new i,t instanceof AudioNode||(t=t instanceof Audio||t instanceof HTMLAudioElement?e.createMediaElementSource(t):e.createMediaStreamSource(t)),this.analyser=e.createAnalyser(),this.stereo=!!r.stereo,this.audible=!1!==r.audible,this.wavedata=null,this.freqdata=null,this.splitter=null,this.merger=null,this.source=t,this.stereo){this.analyser=[this.analyser],this.analyser.push(e.createAnalyser()),this.splitter=e.createChannelSplitter(2),this.merger=e.createChannelMerger(2),this.output=this.merger,this.source.connect(this.splitter);for(var o=0;o<2;o++)this.splitter.connect(this.analyser[o],o,0),this.analyser[o].connect(this.merger,0,o);this.audible&&this.merger.connect(e.destination)}else this.output=this.source,this.source.connect(this.analyser),this.audible&&this.analyser.connect(e.destination)}var i=window.AudioContext||window.webkitAudioContext;e.exports=n,n.prototype.waveform=function(t,e){return t||(t=this.wavedata||(this.wavedata=new Uint8Array((this.analyser[0]||this.analyser).frequencyBinCount))),(this.stereo?this.analyser[e||0]:this.analyser).getByteTimeDomainData(t),t},n.prototype.frequencies=function(t,e){return t||(t=this.freqdata||(this.freqdata=new Uint8Array((this.analyser[0]||this.analyser).frequencyBinCount))),(this.stereo?this.analyser[e||0]:this.analyser).getByteFrequencyData(t),t}},{}],134:[function(t,e,r){var n=t(29);e.exports=function(t){return n("webgl",t)}},{29:29}],135:[function(t,e,r){function n(t,e){function r(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach(function(t){n[t]=i[t]}),n}if(t&&e)return n(t)(e);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(e){r[e]=t[e]}),r}e.exports=n},{}],136:[function(t,e,r){"use strict";function n(){return f(b).map(function(t,e,r){return[l(-1,1,t/(r.length-1)),0,0]})}var i=t(102),o=t(106),a=t(48),s=t(30),u=t(100),c=t(36),f=t(4),l=(t(101),t(95)),h=t(77),p=t(134)({width:400,height:300}),d=t(89),g=t(139),v=t(138)(),_=t(137),y=t(140),m=function(t){return d(t).map(function(t){return t/255})},E=/Safari/i.test(navigator.userAgent)&&!/Chrome/i.test(navigator.userAgent),b=200,A=E?50:110,w={opacity:1,useHue:!1,additive:!1},T=[{gradient:["#fff","#4f4f4f"],color:"#f6ed2d",color1:"#9895c2",color2:"#de4a7b",color3:"#f6ed2d",useHue:!1}],x=T[Math.floor(Math.random()*T.length)];x=u({},w,x);var R=m(x.color),I=p.canvas;document.body.appendChild(I);var S=window.AudioContext||window.webkitAudioContext,N=p.getParameter(p.MAX_VERTEX_TEXTURE_IMAGE_UNITS),U=t(15)(I,{scale:window.devicePixelRatio}),L=h(p);L.style({aspect:1,color1:m("#0c0026"),color2:m("#0c0026")})
;var P=c([]),C=a(p,"#define GLSLIFY 1\nattribute vec3 position;\nattribute float direction; \nattribute vec3 next;\nattribute vec3 previous;\n\nuniform sampler2D audioTexture;\nuniform mat4 projection;\nuniform mat4 model;\nuniform mat4 view;\nuniform float aspect;\nuniform float radius;\nuniform float index;\n\nuniform float thickness;\nuniform float iGlobalTime;\nuniform int miter;\n\nvarying float vAngle;\nvarying vec2 uvCoords;\n\n#define HAS_VERTEX_SAMPLER\n#define PI 3.14\n\nfloat glAudioAnalyser_2_0(sampler2D audioData, float audioIndex) {\n  return texture2D(audioData, vec2(audioIndex, 0.5)).r;\n}\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec4 mod289_1_1(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0; }\n\nfloat mod289_1_1(float x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0; }\n\nvec4 permute_1_2(vec4 x) {\n     return mod289_1_1(((x*34.0)+1.0)*x);\n}\n\nfloat permute_1_2(float x) {\n     return mod289_1_1(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_1_3(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat taylorInvSqrt_1_3(float r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec4 grad4_1_4(float j, vec4 ip)\n  {\n  const vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);\n  vec4 p,s;\n\n  p.xyz = floor( fract (vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;\n  p.w = 1.5 - dot(abs(p.xyz), ones.xyz);\n  s = vec4(lessThan(p, vec4(0.0)));\n  p.xyz = p.xyz + (s.xyz*2.0 - 1.0) * s.www;\n\n  return p;\n  }\n\n// (sqrt(5) - 1)/4 = F4, used once below\n#define F4 0.309016994374947451\n\nfloat snoise_1_5(vec4 v)\n  {\n  const vec4  C = vec4( 0.138196601125011,  // (5 - sqrt(5))/20  G4\n                        0.276393202250021,  // 2 * G4\n                        0.414589803375032,  // 3 * G4\n                       -0.447213595499958); // -1 + 4 * G4\n\n// First corner\n  vec4 i  = floor(v + dot(v, vec4(F4)) );\n  vec4 x0 = v -   i + dot(i, C.xxxx);\n\n// Other corners\n\n// Rank sorting originally contributed by Bill Licea-Kane, AMD (formerly ATI)\n  vec4 i0;\n  vec3 isX = step( x0.yzw, x0.xxx );\n  vec3 isYZ = step( x0.zww, x0.yyz );\n//  i0.x = dot( isX, vec3( 1.0 ) );\n  i0.x = isX.x + isX.y + isX.z;\n  i0.yzw = 1.0 - isX;\n//  i0.y += dot( isYZ.xy, vec2( 1.0 ) );\n  i0.y += isYZ.x + isYZ.y;\n  i0.zw += 1.0 - isYZ.xy;\n  i0.z += isYZ.z;\n  i0.w += 1.0 - isYZ.z;\n\n  // i0 now contains the unique values 0,1,2,3 in each channel\n  vec4 i3 = clamp( i0, 0.0, 1.0 );\n  vec4 i2 = clamp( i0-1.0, 0.0, 1.0 );\n  vec4 i1 = clamp( i0-2.0, 0.0, 1.0 );\n\n  //  x0 = x0 - 0.0 + 0.0 * C.xxxx\n  //  x1 = x0 - i1  + 1.0 * C.xxxx\n  //  x2 = x0 - i2  + 2.0 * C.xxxx\n  //  x3 = x0 - i3  + 3.0 * C.xxxx\n  //  x4 = x0 - 1.0 + 4.0 * C.xxxx\n  vec4 x1 = x0 - i1 + C.xxxx;\n  vec4 x2 = x0 - i2 + C.yyyy;\n  vec4 x3 = x0 - i3 + C.zzzz;\n  vec4 x4 = x0 + C.wwww;\n\n// Permutations\n  i = mod289_1_1(i);\n  float j0 = permute_1_2( permute_1_2( permute_1_2( permute_1_2(i.w) + i.z) + i.y) + i.x);\n  vec4 j1 = permute_1_2( permute_1_2( permute_1_2( permute_1_2 (\n             i.w + vec4(i1.w, i2.w, i3.w, 1.0 ))\n           + i.z + vec4(i1.z, i2.z, i3.z, 1.0 ))\n           + i.y + vec4(i1.y, i2.y, i3.y, 1.0 ))\n           + i.x + vec4(i1.x, i2.x, i3.x, 1.0 ));\n\n// Gradients: 7x7x6 points over a cube, mapped onto a 4-cross polytope\n// 7*7*6 = 294, which is close to the ring size 17*17 = 289.\n  vec4 ip = vec4(1.0/294.0, 1.0/49.0, 1.0/7.0, 0.0) ;\n\n  vec4 p0_1_6 = grad4_1_4(j0,   ip);\n  vec4 p1 = grad4_1_4(j1.x, ip);\n  vec4 p2 = grad4_1_4(j1.y, ip);\n  vec4 p3 = grad4_1_4(j1.z, ip);\n  vec4 p4 = grad4_1_4(j1.w, ip);\n\n// Normalise gradients\n  vec4 norm = taylorInvSqrt_1_3(vec4(dot(p0_1_6,p0_1_6), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_1_6 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n  p4 *= taylorInvSqrt_1_3(dot(p4,p4));\n\n// Mix contributions from the five corners\n  vec3 m0 = max(0.6 - vec3(dot(x0,x0), dot(x1,x1), dot(x2,x2)), 0.0);\n  vec2 m1 = max(0.6 - vec2(dot(x3,x3), dot(x4,x4)            ), 0.0);\n  m0 = m0 * m0;\n  m1 = m1 * m1;\n  return 49.0 * ( dot(m0*m0, vec3( dot( p0_1_6, x0 ), dot( p1, x1 ), dot( p2, x2 )))\n               + dot(m1*m1, vec2( dot( p3, x3 ), dot( p4, x4 ) ) ) ) ;\n\n  }\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_0_7(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_0_7(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_0_8(vec4 x) {\n     return mod289_0_7(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt_0_9(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_0_10(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D_0_11 = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_0_12 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_0_12;\n  vec3 i1 = min( g_0_12.xyz, l.zxy );\n  vec3 i2 = max( g_0_12.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D_0_11.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_0_7(i);\n  vec4 p = permute_0_8( permute_0_8( permute_0_8(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D_0_11.wyz - D_0_11.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1_0_13 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0_0_14 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1_0_13.xy,h.z);\n  vec3 p3 = vec3(a1_0_13.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt_0_9(vec4(dot(p0_0_14,p0_0_14), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0_0_14 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0_0_14,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\nvec4 line3D (vec3 positionOffset, float computedThickness) {\n  vec2 aspectVec = vec2(aspect, 1.0);\n  mat4 projViewModel = projection * view * model;\n  vec4 previousProjected = projViewModel * vec4(previous + positionOffset, 1.0);\n  vec4 currentProjected = projViewModel * vec4(position + positionOffset, 1.0);\n  vec4 nextProjected = projViewModel * vec4(next + positionOffset, 1.0);\n\n  //get 2D screen space with W divide and aspect correction\n  vec2 currentScreen = currentProjected.xy / currentProjected.w * aspectVec;\n  vec2 previousScreen = previousProjected.xy / previousProjected.w * aspectVec;\n  vec2 nextScreen = nextProjected.xy / nextProjected.w * aspectVec;\n\n  float len = computedThickness;\n  float orientation = direction;\n\n  //starting point uses (next - current)\n  vec2 dir = vec2(0.0);\n  if (currentScreen == previousScreen) {\n    dir = normalize(nextScreen - currentScreen);\n  } \n  //ending point uses (current - previous)\n  else if (currentScreen == nextScreen) {\n    dir = normalize(currentScreen - previousScreen);\n  }\n  //somewhere in middle, needs a join\n  else {\n    //get directions from (C - B) and (B - A)\n    vec2 dirA = normalize((currentScreen - previousScreen));\n    if (miter == 1) {\n      vec2 dirB = normalize((nextScreen - currentScreen));\n      //now compute the miter join normal and length\n      vec2 tangent = normalize(dirA + dirB);\n      vec2 perp = vec2(-dirA.y, dirA.x);\n      vec2 miter = vec2(-tangent.y, tangent.x);\n      dir = tangent;\n      len = computedThickness / dot(miter, perp);\n    } else {\n      dir = dirA;\n    }\n  }\n  vec2 normal = vec2(-dir.y, dir.x);\n  normal *= len/2.0;\n  normal.x /= aspect;\n\n  vec4 offset = vec4(normal * orientation, 0.0, 1.0);\n  return currentProjected + offset;\n}\n\nfloat turb (float angle, float alpha, float scale, float offset) {\n  return alpha * snoise_0_10(vec3(position.x * scale, angle, offset));  \n} \n\nvoid main() {\n  #ifdef HAS_VERTEX_SAMPLER\n  float frequencies = glAudioAnalyser_2_0(audioTexture, position.x * 0.5 + 0.5);\n  #endif\n  \n  float pinch = smoothstep(0.1, 0.5, 0.5 - abs(position.x));\n  float computedThickness = thickness;\n  computedThickness *= pinch;\n  \n  vec3 offset = vec3(0.0);\n  \n  // we will wrap the lines around like a finger trap\n  float angleOffset = index * PI; // separate each line a bit\n  float twists = 0.5; // twisting factor\n  float radialOffset = 2.0 * PI * position.x;\n  \n  #ifdef HAS_VERTEX_SAMPLER\n  angleOffset *= mix(0.5, 1.5, frequencies);\n  #endif\n  \n  float angle = radialOffset * twists + angleOffset;\n  angle -= iGlobalTime;\n  \n  \n  float computedRadius = radius;\n  #ifdef HAS_VERTEX_SAMPLER\n  computedRadius += turb(angle, frequencies * 0.5, 1.0, iGlobalTime * 0.2);\n  #endif\n  computedRadius += turb(angle, 0.1, 6.0, iGlobalTime * 0.25);\n  computedRadius += turb(angle, 0.1, 2.5, iGlobalTime * 0.5);\n  computedRadius *= pinch;\n  #ifdef HAS_VERTEX_SAMPLER\n  computedRadius *= mix(0.65, 1.0, frequencies);\n  #endif\n  computedRadius = 0.002;\n  vAngle = angle;\n  offset.y = cos(angle) * computedRadius;\n  offset.z = sin(angle) * computedRadius;\n  \n  uvCoords = vec2(position.x * 0.5 + 0.5, sign(direction));\n  gl_Position = line3D(offset, computedThickness);  \n  gl_PointSize = 1.0;\n}","precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D brushTexture;\nuniform vec3 color;\nuniform vec3 colorx;\nuniform vec3 color1;\nuniform vec3 color2;\nuniform vec3 color3;\nuniform float width;\nuniform float height;\nuniform float opacity;\nuniform bool useHue;\nuniform float iGlobalTime;\nvarying float vAngle;\nvarying vec2 uvCoords;\n\n#define PI 3.14\nfloat hue2rgb_0_0(float f1, float f2, float hue) {\n    if (hue < 0.0)\n        hue += 1.0;\n    else if (hue > 1.0)\n        hue -= 1.0;\n    float res;\n    if ((6.0 * hue) < 1.0)\n        res = f1 + (f2 - f1) * 6.0 * hue;\n    else if ((2.0 * hue) < 1.0)\n        res = f2;\n    else if ((3.0 * hue) < 2.0)\n        res = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n    else\n        res = f1;\n    return res;\n}\n\nvec3 hsl2rgb_0_1(vec3 hsl) {\n    vec3 rgb;\n    \n    if (hsl.y == 0.0) {\n        rgb = vec3(hsl.z); // Luminance\n    } else {\n        float f2;\n        \n        if (hsl.z < 0.5)\n            f2 = hsl.z * (1.0 + hsl.y);\n        else\n            f2 = hsl.z + hsl.y - hsl.y * hsl.z;\n            \n        float f1 = 2.0 * hsl.z - f2;\n        \n        rgb.r = hue2rgb_0_0(f1, f2, hsl.x + (1.0/3.0));\n        rgb.g = hue2rgb_0_0(f1, f2, hsl.x);\n        rgb.b = hue2rgb_0_0(f1, f2, hsl.x - (1.0/3.0));\n    }   \n    return rgb;\n}\n\nvec3 hsl2rgb_0_1(float h, float s, float l) {\n    return hsl2rgb_0_1(vec3(h, s, l));\n}\n\nvoid main() {\n  vec3 tCol = color;\n  if (useHue) {\n    float sat = 0.7;\n    float light = 0.6;\n    \n    float rainbow = sin(vAngle * 1.0) * 0.5 + 0.5;\n    float hue = 0.0;\n    hue += mix(0.5, 0.9, rainbow);\n    tCol = hsl2rgb_0_1(vec3(hue, sat, light));\n  }\n  \n  vec2 vUv = vec2(uvCoords.x, 1.0 - abs(uvCoords.y));\n  // vec4 brush = texture2D(brushTexture, vUv);\n  float x = uvCoords.x;\n  vec2 resolution = vec2(width, height);\n  float step1 = 0.41;\n\n  const vec3 GREEN = vec3( 0.0, 1.0, 0.0);\n  const vec3 WHITE = vec3( 1.0, 1.0, 1.0);\n  const vec3 RED   = vec3( 1.0, 0.0, 0.0);\n  const vec3 BLUE   = vec3( 0.0, 0.0, 1.0);\n\n  if(x > 0.48 && x < 0.7) {\n      float z = smoothstep(0.48, 0.7, x);\n      tCol = mix(color2, color3, z);\n  } else {\n      float z = smoothstep(0.215, 0.48, x);\n      tCol = mix(color1, color2, z);\n  }\n  \n  gl_FragColor = vec4(tCol, opacity);\n  // gl_FragColor.rgb *= gl_FragColor.a;\n}"),M=o({fov:30*Math.PI/180,position:[0,0,1],near:1e-4,far:1e4}),O=i({element:I,distanceBounds:[.5,100],distance:.5}),D=f(A).map(n),B=D.map(function(t){return g(p,C,t)}),F=void 0;!function(){if(N<1)return v("This demo requires a GPU with vertex texture sampling.");if(!S)return v("This demo requires a WebAudio capable browser.");if(y())return _();var t=document.querySelector(".loader");if(navigator.mediaDevices.getUserMedia){console.log("getUserMedia supported.");var e=function(e){var r=new S,n=r.createMediaStreamSource(e);console.log(n),F=s(p,n,r),U.start(),t.style.display="none"},r=function(t){console.log("The following error occured: "+t)};navigator.mediaDevices.getUserMedia({video:!1,audio:!0}).then(e,r)}else console.log("getUserMedia not supported on your browser!")}();var j=0;U.on("tick",function(t){j+=Math.min(30,t)/1e3;var e=p.drawingBufferWidth,r=p.drawingBufferHeight;M.viewport[2]=e,M.viewport[3]=r,O.update(M.position,M.direction,M.up),M.update(),p.viewport(0,0,e,r),p.clearColor(0,0,0,1),p.clear(p.COLOR_BUFFER_BIT|p.DEPTH_BUFFER_BIT);var n=1.5*Math.min(e,r);p.disable(p.DEPTH_TEST),L.style({scale:[1/e*n,1/r*n]}),L.draw(),p.disable(p.DEPTH_TEST),p.enable(p.BLEND),x.additive?p.blendFunc(p.ONE,p.ONE):p.blendFunc(p.ONE,p.ONE_MINUS_SRC_ALPHA),p.disable(p.CULL_FACE),C.bind(),C.uniforms.iGlobalTime=j,C.uniforms.radius=.01,C.uniforms.audioTexture=0,C.uniforms.opacity=x.opacity,C.uniforms.useHue=x.useHue,C.uniforms.width=x.width,C.uniforms.height=x.height,C.uniforms.color1=m(x.color1),C.uniforms.color2=m(x.color2),C.uniforms.color3=m(x.color3),F.bindFrequencies(0),B.forEach(function(t,n,i){t.color=R,t.thickness=.001,t.model=P,t.view=M.view,t.projection=M.projection,t.aspect=e/r,t.miter=1,C.uniforms.index=n/(i.length-1),t.draw()})})},{100:100,101:101,102:102,106:106,134:134,137:137,138:138,139:139,140:140,15:15,30:30,36:36,4:4,48:48,77:77,89:89,95:95}],137:[function(t,e,r){"use strict";function n(t){return t&&console.error(t),i('\n    <div>Only supported on Desktop Chrome & FireFox.</div>\n    <div>See my other <strong>#codevember</strong> demos at\n    <a target="_top" href="https://github.com/mattdesl/codevember">\n    https://github.com/mattdesl/codevember</a>.</div>\n  ')}var i=t(138)();e.exports=n},{138:138}],138:[function(t,e,r){"use strict";function n(t){function e(){p();var t=document.createElement("div");return t.setAttribute("id","fatal-error"),document.body.appendChild(t),o(t.style,{font:f?"16px monospace":'15px "Open Sans", Helvetica, sans-serif',background:n?"#313131":"#fff",color:n?"#e9e9e9":"#000","word-wrap":f?"break-word":void 0}),t}function r(t){return t.map(function(t){return'<div class="fatal-error-stack-line">'+t+"</div>"}).join("\n")}t=t||{};var n=t.dark,f=t.pre,l=!1!==t.googleFonts,h=t.stack,p=s(function(){l&&u.add({"Open Sans":[300,600]}),i(c)});return function(t){var n=t;if(t instanceof Error&&(n=h?t.stack:t.message),"string"==typeof n&&(n=(n||"").trim(),h)){var i=n.split("\n");i.length>0&&(n=r(i))}var o=document.querySelector("#fatal-error");for(o||(o=e());o.firstChild;)o.removeChild(o.firstChild);return Array.isArray(n)?n.forEach(function(t){o.appendChild(a(t))}):o.appendChild(a(n)),o}}var i=t(92),o=t(100),a=t(23),s=t(101),u=t(88),c="\n#fatal-error {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  z-index: 100000;\n  top: 0;\n  left: 0;\n  padding: 20px;\n  box-sizing: border-box;\n  font-size: 16px;\n  margin: 0;\n  color: #000;\n}\n.fatal-error-stack-line {\n  padding-left: 20px;\n}\n.fatal-error-stack-line:first-child {\n  padding-left: 0px;\n  font-weight: bold;\n}\na, a:visited, a:active {\n  text-decoration: none;\n  color: #48a0cd;\n}\na:hover {\n  text-decoration: underline;\n}\n";e.exports=n},{100:100,101:101,23:23,88:88,92:92}],139:[function(t,e,r){"use strict";function n(t){return function(e,r,n){return r=l(r+t,0,n.length-1),n[r]}}function i(t,e){var r=[];return t.forEach(function(t){var n=e?-t:t;r.push(n,t)}),r}function o(t){for(var e=new Uint16Array(6*t),r=0,n=0,i=0;i<t;i++){var o=n;e[r++]=o+0,e[r++]=o+1,e[r++]=o+2,e[r++]=o+2,e[r++]=o+1,e[r++]=o+3,n+=2}return e}var a=function(){function t(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=t(31),u=t(59),c=t(3),f=t(36),l=t(16);e.exports=function(t,e,r){function l(t){t.length>0&&3!==t[0].length&&(t=t.map(function(t){var e=a(t,3),r=e[0],n=e[1],i=e[2];return[r||0,n||0,i||0]})),y=6*(t.length-1);var e=i(t.map(function(t){return 1}),!0),r=i(t),s=i(t.map(n(-1))),u=i(t.map(n(1))),f=o(t.length);d.update(c(r)),g.update(c(s)),v.update(c(u)),_.update(c(e)),p.update(f),m.update([{buffer:d,size:3},{buffer:_,size:1},{buffer:v,size:3},{buffer:g,size:3}],p)}function h(e,r){return e=e||Float32Array,s(t,new e,r||t.ARRAY_BUFFER,t.STATIC_DRAW)}if(!e)throw new TypeError("need to pass a shader");e.bind(),e.attributes.position.location=0,e.attributes.direction.location=1,e.attributes.next.location=2,e.attributes.previous.location=3;var p=h(Uint16Array,t.ELEMENT_ARRAY_BUFFER),d=h(),g=h(),v=h(),_=h(),y=0,m=u(t),E=f([]),b=f([]),A=f([]),w=[1,1,1];return r&&l(r),{update:l,model:E,view:A,projection:b,thickness:1,color:w,miter:0,aspect:1,draw:function(){e.bind(),e.uniforms.model=this.model,e.uniforms.view=this.view,e.uniforms.projection=this.projection,e.uniforms.color=this.color,e.uniforms.thickness=this.thickness,e.uniforms.aspect=this.aspect,e.uniforms.miter=this.miter,m.bind(),m.draw(t.TRIANGLES,y),m.unbind()}}}},{16:16,3:3,31:31,36:36,59:59}],140:[function(t,e,r){"use strict";e.exports=function(){return/(iPad|iPhone|Android)/i.test(navigator.userAgent)}},{}]},{},[136]);